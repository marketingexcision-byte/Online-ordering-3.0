<section class="form ns-form simple-lazyload" style="padding: 40px 0px;">
  <div class="container">
    <div class="form-vertical lazyload-element">
      {% if section.settings.heading != blank %}<h3 class="text-center">{{ section.settings.heading | escape }}</h3>{% endif %}
      {% unless section.settings.subtext == blank %}<div class="text-center">{{ section.settings.subtext }}</div>{% endunless %}
    </div>
    <div>
      {% form 'customer', class:'lazyload-element' %}
        {{ form.errors | default_errors }}
        {% if form.posted_successfully? %}
          <p class="note form-success">{{ 'layout.footer.newsletter_confirmation' | t }}</p>
          <script>window.dataLayer=window.dataLayer||[],window.dataLayer.push({'event':"hubspot-form-success",'hs-form-guid':"newsletter_signup"});</script>
        {% else %}
          <input type="hidden" name="contact[tags]" value="newsletter">
          <div class="input-group">
            <div class="input-with-button">
              <input type="text" id="contactName" name="contact[{{ 'contact.form.name' | t }}]" placeholder="{{ 'Name' }}" value="" class="input-group-field ns-name-field">
              <input
                type="email"
                value="{% if customer %}{{ customer.email }}{% endif %}"
                placeholder="{{ 'layout.footer.newsletter_email_placeholder' | t }}"
                name="contact[email]"
                id="Email"
                class="input-group-field"
                aria-label="{{ 'layout.footer.newsletter_email_placeholder' | t }}"
                autocorrect="off"
                autocapitalize="off"> 
              <button
                type="submit"
                class="btn{% if button == 'secondary' %}-secondary{% endif %} btn--small"
                name="commit"
                id="subscribe">
                {{ 'layout.footer.newsletter_sign_up' | t }}
              </button>
            </div>
          </div>
        {% endif %}
      {% endform %}
    </div>
  </div>
</section>

<style>
  .ns-form .input-group {
      display: flex;
      justify-content: center;
      align-items: center;
  }
  .ns-form .input-with-button {
      display: flex;
      align-items: center;
      max-width: 700px; /* Increase width of input container */
      margin: 0 auto; /* Center horizontally */
  }
  .ns-form .input-with-button input {
      padding-left: 1px;
      padding-right: 1px;
  }
  .ns-form .input-group-field {
      padding-right: 20px; /* Add padding between button and input */
      width: 100%;
  }
  .ns-form .btn {
      margin-left: 20px; /* Compensate for the input padding */
      background-color: #0069a7; /* Set default background color for the button */
      color: white; /* Set text color for the button */
      transition: background-color 0.3s; /* Add transition for smooth color change */
  }
  .ns-form .btn:hover {
      background-color: #e0592a; /* Change background color on hover */
  }
  .ns-form h3 {
      font-size: 24px;
      font-weight: 700;
      color: #e0592a;
  }
  .ns-form input {
      border-radius: 10px;
      border: none;
      padding: 5px 10px;
  }
  .ns-form input[type=text]:focus-visible,
  .ns-form input[type=email]:focus-visible {
      box-shadow: none;
      outline: 0;
  }
  .ns-form input[type=text]:focus,
  .ns-form input[type=email]:focus {
      border-width: 0 0 2px 0;
  }
  @media (min-width: 481px) {    
      .ns-form input.ns-name-field {
          margin-right: 20px;
      }
  }
  @media (max-width: 480px) {  
      .ns-form input.ns-name-field {
          margin-right: 15px;
      }
      .ns-form .input-with-button {
          width: 80%;
          display: block;
          text-align: center;
      }
      .ns-form input {
          margin-bottom: 15px !important;
          display: block;
      }
      .ns-form button.btn{
          width: 100%;
          margin: 0 auto; 
      }
  }  
</style>



{% schema %}
{
  "name": "Home Newsletter",
  "class": "newsletter-section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Subscribe to our newsletter"        
    }, 
    {
      "type": "richtext",
      "id": "subtext",
      "label": "Subtext",
      "default": "<p>Promotions, new products and sales. Directly to your inbox.</p>"        
    }
  ],
  "presets": [
    {
      "name": "Home Newsletter",
      "category": "Promotional"        
    }
  ]
}
{% endschema %}
