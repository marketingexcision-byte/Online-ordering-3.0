try{window.initFlipbook=function(e){$("#pageflip").pageflipInit(e),window.isPrintCss=!1},function(){function e(e){var t={};$.extend(t,this.config,e),this.config=t,"string"==typeof this.config.el?($(document).on("mouseenter",this.config.el,this,this.events.show),$(document).on("mouseleave",this.config.el,this,this.events.hide)):this.config.el instanceof $&&(this.config.el.on("mouseenter",null,this,this.events.show),this.config.el.on("mouseleave",null,this,this.events.hide))}e.prototype.config={orientation:"top",background:"blue",color:"white",speed:0,margin:0,fixedY:null,text:!1},e.prototype.events={show:function(e){var n,o,i,r,a,t=$(this).data("tooltip")?$(this).data("tooltip"):e.data.config.text,s=!0===$(this).data("tooltip-hidden");t&&!s&&(n=e.data.config,o=c(t,n),$("body").after(o),i=$(this)[0].getBoundingClientRect(),r=$(o).height(),a=parseInt($(o).width()/2,10)-parseInt(i.width/2,10),{top:function(){var e=i.left-a,t=n.fixedY?n.fixedY()-n.margin:i.top-r-n.margin;$(o).css("transform",u(e,t))},bottom:function(){var e=i.left-a,t=n.fixedY?n.fixedY()+i.height+n.margin:i.top+i.height+n.margin;$(o).css("transform",u(e,t))}}[n.orientation](),$(o).fadeIn(n.speed))},hide:function(e){$(".tooltip-container").remove()}};var c=function(e,t){var n=$("<div></div>",{class:"tooltip-container"}),o=$("<div></div>",{class:"tooltip"}),i=$("<div></div>",{class:"tooltip-text"}),r=$("<div></div>",{class:"tooltip-triangle-"+t.orientation});return r.css("border-"+t.orientation+"-color",t.background),i.css("background-color",t.background),i.css("color",t.color),n.append(o.append(i.html(e)).append(r))},u=function(e,t){return"translate("+e+"px, "+t+"px)"};window.FlipbookTooltips=e}(),window.FlipbookCursorManager=function(e,t){var e=(e.cursorColor,e.incDirPath),n={zoomin:e+"https://cdn.shopify.com/s/files/1/0439/5597/8399/files/zoomin.cur",zoomout:e+"https://cdn.shopify.com/s/files/1/0439/5597/8399/files/zoomout.cur"};this.setCursor=function(e,t){e instanceof jQuery&&0<e.length&&e.each(function(){var e=$(this);switch(t){case"zoomin":case"zoomout":e.data("cursor")!==t&&(e.data("cursor",t),e.css("cursor","url('"+n[t]+"'), auto"));break;default:"auto"!==e.data("cursor")&&(e.css("cursor","auto"),e.data("cursor","auto"))}})};$.each(n,function(e,t){t=t,$("<div></div>").css({position:"absolute",width:"0px",height:"1px",cursor:"url('"+t+"'), auto"}).appendTo($("body"))})},function(n){"use strict";function o(e){((e=e||"")instanceof URLSearchParams||e instanceof o)&&(e=e.toString()),this[h]=s(e)}function a(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function(e){return t[e]})}function u(e){return e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,function(e){return decodeURIComponent(e)})}function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g&&(e[n.Symbol.iterator]=function(){return e}),e}function s(e){var t={};if("object"==typeof e)if(d(e))for(var n=0;n<e.length;n++){var o=e[n];if(!d(o)||2!==o.length)throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements");l(t,o[0],o[1])}else for(var i in e)e.hasOwnProperty(i)&&l(t,i,e[i]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var r=e.split("&"),a=0;a<r.length;a++){var s=r[a],c=s.indexOf("=");-1<c?l(t,u(s.slice(0,c)),u(s.slice(c+1))):s&&l(t,u(s),"")}}return t}function l(e,t,n){n="string"==typeof n?n:null!=n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);i(e,t)?e[t].push(n):e[t]=[n]}function d(e){return e&&"[object Array]"===Object.prototype.toString.call(e)}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var t=function(){try{if(n.URLSearchParams&&"bar"===new n.URLSearchParams("foo=bar").get("foo"))return n.URLSearchParams}catch(e){}return null}(),r=t&&"a=1"===new t({a:1}).toString(),c=t&&"+"===new t("s=%2B").get("s"),h="__URLSearchParams__",p=!t||((f=new t).append("s"," &"),"s=+%26"===f.toString()),f=o.prototype,g=!(!n.Symbol||!n.Symbol.iterator);t&&r&&c&&p||(f.append=function(e,t){l(this[h],e,t)},f.delete=function(e){delete this[h][e]},f.get=function(e){var t=this[h];return this.has(e)?t[e][0]:null},f.getAll=function(e){var t=this[h];return this.has(e)?t[e].slice(0):[]},f.has=function(e){return i(this[h],e)},f.set=function(e,t){this[h][e]=[""+t]},f.toString=function(){var e,t,n,o,i=this[h],r=[];for(t in i)for(n=a(t),e=0,o=i[t];e<o.length;e++)r.push(n+"="+a(o[e]));return r.join("&")},r=!!c&&t&&!r&&n.Proxy,Object.defineProperty(n,"URLSearchParams",{value:r?new Proxy(t,{construct:function(e,t){return new e(new o(t[0]).toString())}}):o}),(t=n.URLSearchParams.prototype).polyfill=!0,t.forEach=t.forEach||function(n,o){var e=s(this.toString());Object.getOwnPropertyNames(e).forEach(function(t){e[t].forEach(function(e){n.call(o,e,t,this)},this)},this)},t.sort=t.sort||function(){var e,t,n=s(this.toString()),o=[];for(e in n)o.push(e);for(o.sort(),t=0;t<o.length;t++)this.delete(o[t]);for(t=0;t<o.length;t++)for(var i=o[t],r=n[i],a=0;a<r.length;a++)this.append(i,r[a])},t.keys=t.keys||function(){var n=[];return this.forEach(function(e,t){n.push(t)}),e(n)},t.values=t.values||function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},t.entries=t.entries||function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),e(n)},g&&(t[n.Symbol.iterator]=t[n.Symbol.iterator]||t.entries))}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this),window.FlipbookUrl=function(e,o){var r,i=e.singlePageMode;this.getPageNumberFromUrl=function(){var e,t;return"undefined"===$.type(r)&&(t=window.location.search,"string"===$.type(t)&&0<t.length&&(t=/page=([^&]*)/g.exec(t),$.isArray(t)&&1<t.length&&(t=t[1],t=parseInt(t,10),$.isNumeric(t)&&(e=a(t)))),"undefined"===$.type(e)&&(e=o.getFirstPageNumber()),r=e),r},this.updateUrl=function(e){var t=e.split("-")[0],n=window.location.protocol+"//"+window.location.host+window.location.pathname,o=new URLSearchParams(window.location.search),i={};["utm_campaign","utm_medium","utm_term","utm_source"].forEach(function(e){o.has(e)&&(i[e]=o.get(e))});e=new URLSearchParams(i).toString();0<e.length&&(e="&"+e);t=parseInt(t,10);window.history&&"function"===$.type(window.history.pushState)&&$.isNumeric(t)&&("http:"!==location.protocol&&"https:"!==location.protocol||(r!=t?(window.history.pushState({pagenum:t},"",n+"?page="+t+e),r=t):window.history.replaceState({pagenum:t},"",n+"?page="+t+e)))};var a=function(e){var t=o.getFirstPageNumber(),n=o.getLastPageNumber();return e<t?e=t:n<e&&(e=n),!i&&1<e&&(e-=e%2),e};$(window).on("popstate",function(e,t){var n;window.history.state&&window.history.state.pagenum&&((n=a(window.history.state.pagenum))&&(r=n,o.gotoPageNumber(n,!0)))})},function(){function e(e){var t={};$.extend(t,this.config,e),this.config=t,$(document).on("mouseenter",this.config.el,this,this.events.show),$(document).on("mouseleave",this.config.el,this,this.events.hide)}e.prototype.config={delayBlinkTime:100,blinkTime:300,background:"blue"},e.prototype._blinkStart=function(){"waiting"===this.data.status&&new Date-this.data.pageOpenTimestamp>=this.config.blinkTime&&(this.data.status="process",this.data.blinkTimestamp=new Date,$(this.config.el).css("background",this.config.background))},e.prototype._blinkEnd=function(){"process"===this.data.status&&new Date-this.data.blinkTimestamp>=this.config.blinkTime&&(this.data.status="done",$(this.config.el).css("background","transparent"))},e.prototype.data={pageOpenTimestamp:null,blinkTimestamp:null,status:null},e.prototype.blink=function(){this.data.status&&"done"!==this.data.status||(this.data.pageOpenTimestamp=new Date),this.data.status="waiting"},e.prototype.OEF=function(){this.data.status&&"done"!==this.data.status&&(this._blinkStart(),this._blinkEnd())},e.prototype.events={show:function(e){$(this).css("opacity",.5),$(this).css("background",e.data.config.background)},hide:function(){$(this).css("background","transparent")}},window.FlipbookLinksFading=e}(),function(i,s,u){"use strict";function r(e,t,n){return setTimeout(o(e,n),t)}function n(e,t,n){return Array.isArray(e)&&(a(e,n[t],n),1)}function a(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==u)for(o=0;o<e.length;)t.call(n,e[o],o,e),o++;else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function e(n,e,t){var o="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var e=new Error("get-stack-trace"),t=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",e=i.console&&(i.console.warn||i.console.log);return e&&e.call(i.console,o,t),n.apply(this,arguments)}}function t(e,t,n){var o=t.prototype,t=e.prototype=Object.create(o);t.constructor=e,t._super=o,n&&ne(t,n)}function o(e,t){return function(){return e.apply(t,arguments)}}function c(e,t){return typeof e==J?e.apply(t&&t[0]||u,t):e}function l(e,t){return e===u?t:e}function d(t,e,n){a(g(e),function(e){t.addEventListener(e,n,!1)})}function h(t,e,n){a(g(e),function(e){t.removeEventListener(e,n,!1)})}function p(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function f(e,t){return-1<e.indexOf(t)}function g(e){return e.trim().split(/\s+/g)}function m(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var o=0;o<e.length;){if(n&&e[o][n]==t||!n&&e[o]===t)return o;o++}return-1}function v(e){return Array.prototype.slice.call(e,0)}function b(e,n,t){for(var o=[],i=[],r=0;r<e.length;){var a=n?e[r][n]:e[r];m(i,a)<0&&o.push(e[r]),i[r]=a,r++}return t&&(o=n?o.sort(function(e,t){return e[n]>t[n]}):o.sort()),o}function y(e,t){for(var n,o=t[0].toUpperCase()+t.slice(1),i=0;i<Q.length;){if((n=(n=Q[i])?n+o:t)in e)return n;i++}return u}function _(e){e=e.ownerDocument||e;return e.defaultView||e.parentWindow||i}function w(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&n.handler(e)},this.init()}function k(e,t,n){var o=n.pointers.length,i=n.changedPointers.length,r=t&he&&o-i==0,i=t&(pe|fe)&&o-i==0;n.isFirst=!!r,n.isFinal=!!i,r&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,o=t.pointers,i=o.length;n.firstInput||(n.firstInput=T(t)),1<i&&!n.firstMultiple?n.firstMultiple=T(t):1===i&&(n.firstMultiple=!1);var r=n.firstInput,a=n.firstMultiple,s=(a||r).center,i=t.center=P(o);t.timeStamp=te(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=E(s,i),t.distance=C(s,i),function(e,t){var n=t.center,o=e.offsetDelta||{},i=e.prevDelta||{},r=e.prevInput||{};t.eventType!==he&&r.eventType!==pe||(i=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},o=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-o.x),t.deltaY=i.y+(n.y-o.y)}(n,t),t.offsetDirection=x(t.deltaX,t.deltaY),i=S(t.deltaTime,t.deltaX,t.deltaY),t.overallVelocityX=i.x,t.overallVelocityY=i.y,t.overallVelocity=ee(i.x)>ee(i.y)?i.x:i.y,t.scale=a?function(e,t){return C(t[0],t[1],Pe)/C(e[0],e[1],Pe)}(a.pointers,o):1,t.rotation=a?function(e,t){return E(t[1],t[0],Pe)+E(e[1],e[0],Pe)}(a.pointers,o):0,t.maxPointers=!n.prevInput||t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers,function(e,t){var n,o,i,r,a,s=e.lastInterval||t,c=t.timeStamp-s.timeStamp;t.eventType!=fe&&(de<c||s.velocity===u)?(i=t.deltaX-s.deltaX,r=t.deltaY-s.deltaY,a=S(c,i,r),n=a.x,o=a.y,a=ee(a.x)>ee(a.y)?a.x:a.y,r=x(i,r),e.lastInterval=t):(a=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction),t.velocity=a,t.velocityX=n,t.velocityY=o,t.direction=r}(n,t),e=e.element,p(t.srcEvent.target,e)&&(e=t.srcEvent.target),t.target=e}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function T(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:K(e.pointers[n].clientX),clientY:K(e.pointers[n].clientY)},n++;return{timeStamp:te(),pointers:t,center:P(t),deltaX:e.deltaX,deltaY:e.deltaY}}function P(e){var t=e.length;if(1===t)return{x:K(e[0].clientX),y:K(e[0].clientY)};for(var n=0,o=0,i=0;i<t;)n+=e[i].clientX,o+=e[i].clientY,i++;return{x:K(n/t),y:K(o/t)}}function S(e,t,n){return{x:t/e||0,y:n/e||0}}function x(e,t){return e===t?ge:ee(e)>=ee(t)?e<0?me:ve:t<0?be:ye}function C(e,t,n){var o=t[(n=n||Te)[0]]-e[n[0]],n=t[n[1]]-e[n[1]];return Math.sqrt(o*o+n*n)}function E(e,t,n){var o=t[(n=n||Te)[0]]-e[n[0]],n=t[n[1]]-e[n[1]];return 180*Math.atan2(n,o)/Math.PI}function F(){this.evEl=xe,this.evWin=Ce,this.pressed=!1,w.apply(this,arguments)}function I(){this.evEl=Ie,this.evWin=Be,w.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,w.apply(this,arguments)}function M(){this.evTarget=Ne,this.targetIds={},w.apply(this,arguments)}function $(){w.apply(this,arguments);var e=o(this.handler,this);this.touch=new M(this.manager,e),this.mouse=new F(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function N(e){var t,n,e=e.changedPointers[0];e.identifier===this.primaryTouch&&(t={x:e.clientX,y:e.clientY},this.lastTouches.push(t),n=this.lastTouches,setTimeout(function(){var e=n.indexOf(t);-1<e&&n.splice(e,1)},Ae))}function A(e,t){this.manager=e,this.set(t)}function L(e){this.options=ne({},this.defaults,e||{}),this.id=re++,this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=We,this.simultaneous={},this.requireFail=[]}function R(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function O(e){return e==ye?"down":e==be?"up":e==me?"left":e==ve?"right":""}function z(e,t){t=t.manager;return t?t.get(e):e}function D(){L.apply(this,arguments)}function H(){D.apply(this,arguments),this.pX=null,this.pY=null}function j(){D.apply(this,arguments)}function q(){L.apply(this,arguments),this._timer=null,this._input=null}function W(){D.apply(this,arguments)}function Y(){D.apply(this,arguments)}function U(){L.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function X(e,t){return(t=t||{}).recognizers=l(t.recognizers,X.defaults.preset),new V(e,t)}function V(e,t){this.options=ne({},X.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((e=this).options.inputClass||(se?I:ce?M:ae?$:F))(e,k),this.touchAction=new A(this,this.options.touchAction),Z(this,!0),a(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Z(n,o){var i,r=n.element;r.style&&(a(n.options.cssProps,function(e,t){i=y(r.style,t),o?(n.oldCssProps[i]=r.style[i],r.style[i]=e):r.style[i]=n.oldCssProps[i]||""}),o||(n.oldCssProps={}))}var Q=["","webkit","Moz","MS","ms","o"],G=s.createElement("div"),J="function",K=Math.round,ee=Math.abs,te=Date.now,ne="function"!=typeof Object.assign?function(e){if(e===u||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(o!==u&&null!==o)for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])}return t}:Object.assign,oe=e(function(e,t,n){for(var o=Object.keys(t),i=0;i<o.length;)(!n||n&&e[o[i]]===u)&&(e[o[i]]=t[o[i]]),i++;return e},"extend","Use `assign`."),ie=e(function(e,t){return oe(e,t,!0)},"merge","Use `assign`."),re=1,ae="ontouchstart"in i,se=y(i,"PointerEvent")!==u,ce=ae&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ue="touch",le="mouse",de=25,he=1,pe=4,fe=8,ge=1,me=2,ve=4,be=8,ye=16,_e=me|ve,we=be|ye,ke=_e|we,Te=["x","y"],Pe=["clientX","clientY"];w.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(_(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(_(this.element),this.evWin,this.domHandler)}};var Se={mousedown:he,mousemove:2,mouseup:pe},xe="mousedown",Ce="mousemove mouseup";t(F,w,{handler:function(e){var t=Se[e.type];t&he&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=pe),this.pressed&&(t&pe&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:le,srcEvent:e}))}});var Ee={pointerdown:he,pointermove:2,pointerup:pe,pointercancel:fe,pointerout:fe},Fe={2:ue,3:"pen",4:le,5:"kinect"},Ie="pointerdown",Be="pointermove pointerup pointercancel";i.MSPointerEvent&&!i.PointerEvent&&(Ie="MSPointerDown",Be="MSPointerMove MSPointerUp MSPointerCancel"),t(I,w,{handler:function(e){var t=this.store,n=!1,o=e.type.toLowerCase().replace("ms",""),i=Ee[o],r=Fe[e.pointerType]||e.pointerType,a=r==ue,o=m(t,e.pointerId,"pointerId");i&he&&(0===e.button||a)?o<0&&(t.push(e),o=t.length-1):i&(pe|fe)&&(n=!0),o<0||(t[o]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(o,1))}});var Me={touchstart:he,touchmove:2,touchend:pe,touchcancel:fe};t(B,w,{handler:function(e){var t,n=Me[e.type];n===he&&(this.started=!0),this.started&&(t=function(e,t){var n=v(e.touches),e=v(e.changedTouches);return t&(pe|fe)&&(n=b(n.concat(e),"identifier",!0)),[n,e]}.call(this,e,n),n&(pe|fe)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:t[0],changedPointers:t[1],pointerType:ue,srcEvent:e}))}});var $e={touchstart:he,touchmove:2,touchend:pe,touchcancel:fe},Ne="touchstart touchmove touchend touchcancel";t(M,w,{handler:function(e){var t=$e[e.type],n=function(e,t){var n=v(e.touches),o=this.targetIds;if(t&(2|he)&&1===n.length)return o[n[0].identifier]=!0,[n,n];var i,r=v(e.changedTouches),a=[],s=this.target,c=n.filter(function(e){return p(e.target,s)});if(t===he)for(i=0;i<c.length;)o[c[i].identifier]=!0,i++;for(i=0;i<r.length;)o[r[i].identifier]&&a.push(r[i]),t&(pe|fe)&&delete o[r[i].identifier],i++;return a.length?[b(c.concat(a),"identifier",!0),a]:void 0}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:ue,srcEvent:e})}});var Ae=2500;t($,w,{handler:function(e,t,n){var o=n.pointerType==ue,i=n.pointerType==le;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(o)(function(e,t){e&he?(this.primaryTouch=t.changedPointers[0].identifier,N.call(this,t)):e&(pe|fe)&&N.call(this,t)}).call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var i=this.lastTouches[o],r=Math.abs(t-i.x),i=Math.abs(n-i.y);if(r<=25&&i<=25)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Le=y(G.style,"touchAction"),Re=Le!==u,Oe="compute",ze="manipulation",De="none",He="pan-x",je="pan-y",qe=function(){if(!Re)return!1;var t={},n=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){t[e]=!n||i.CSS.supports("touch-action",e)}),t}();A.prototype={set:function(e){e==Oe&&(e=this.compute()),Re&&this.manager.element.style&&qe[e]&&(this.manager.element.style[Le]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(e){if(f(e,De))return De;var t=f(e,He),n=f(e,je);return t&&n?De:t||n?t?He:je:f(e,ze)?ze:"auto"}(t.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var o=this.actions,i=f(o,De)&&!qe[De],r=f(o,je)&&!qe[je],a=f(o,He)&&!qe[He];if(i){var s=1===e.pointers.length,o=e.distance<2,e=e.deltaTime<250;if(s&&o&&e)return}return(!a||!r)&&(i||r&&n&_e||a&&n&we)?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var We=1;L.prototype={defaults:{},set:function(e){return ne(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(n(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=z(e,this)).id]||(t[e.id]=e).recognizeWith(this),this},dropRecognizeWith:function(e){return n(e,"dropRecognizeWith",this)||(e=z(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(n(e,"requireFailure",this))return this;var t=this.requireFail;return-1===m(t,e=z(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(n(e,"dropRequireFailure",this))return this;e=z(e,this);e=m(this.requireFail,e);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,o=this.state;o<8&&e(n.options.event+R(o)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),8<=o&&e(n.options.event+R(o))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|We)))return!1;e++}return!0},recognize:function(e){e=ne({},e);return c(this.options.enable,[this,e])?(56&this.state&&(this.state=We),this.state=this.process(e),void(30&this.state&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(e){},getTouchAction:function(){},reset:function(){}},t(D,L,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,o=6&t,e=this.attrTest(e);return o&&(n&fe||!e)?16|t:o||e?n&pe?8|t:2&t?4|t:2:32}}),t(H,D,{defaults:{event:"pan",threshold:10,pointers:1,direction:ke},getTouchAction:function(){var e=this.options.direction,t=[];return e&_e&&t.push(je),e&we&&t.push(He),t},directionTest:function(e){var t=this.options,n=!0,o=e.distance,i=e.direction,r=e.deltaX,a=e.deltaY;return i&t.direction||(o=t.direction&_e?(i=0===r?ge:r<0?me:ve,n=r!=this.pX,Math.abs(e.deltaX)):(i=0===a?ge:a<0?be:ye,n=a!=this.pY,Math.abs(e.deltaY))),e.direction=i,n&&o>t.threshold&&i&t.direction},attrTest:function(e){return D.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=O(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),t(j,D,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[De]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){var t;1!==e.scale&&(t=e.scale<1?"in":"out",e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),t(q,L,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!o||!n||e.eventType&(pe|fe)&&!i)this.reset();else if(e.eventType&he)this.reset(),this._timer=r(function(){this.state=8,this.tryEmit()},t.time,this);else if(e.eventType&pe)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&pe?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=te(),this.manager.emit(this.options.event,this._input)))}}),t(W,D,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[De]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),t(Y,D,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:_e|we,pointers:1},getTouchAction:function(){return H.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(_e|we)?t=e.overallVelocity:n&_e?t=e.overallVelocityX:n&we&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ee(t)>this.options.velocity&&e.eventType&pe},emit:function(e){var t=O(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),t(U,L,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ze]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&he&&0===this.count)return this.failTimeout();if(o&&i&&n){if(e.eventType!=pe)return this.failTimeout();i=!this.pTime||e.timeStamp-this.pTime<t.interval,n=!this.pCenter||C(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,n&&i?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=r(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=r(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),X.VERSION="2.0.8",X.defaults={domEvents:!1,touchAction:Oe,enable:!0,inputTarget:null,inputClass:null,preset:[[W,{enable:!1}],[j,{enable:!1},["rotate"]],[Y,{direction:_e}],[H,{direction:_e},["swipe"]],[U],[U,{event:"doubletap",taps:2},["tap"]],[q]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},V.prototype={set:function(e){return ne(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,o=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var r=0;r<o.length;)n=o[r],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),r++}},get:function(e){if(e instanceof L)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(n(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),(e.manager=this).touchAction.update(),e},remove:function(e){return n(e,"remove",this)||!(e=this.get(e))||-1!==(e=m(t=this.recognizers,e))&&(t.splice(e,1),this.touchAction.update()),this;var t},on:function(e,t){if(e!==u&&t!==u){var n=this.handlers;return a(g(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==u){var n=this.handlers;return a(g(e),function(e){t?n[e]&&n[e].splice(m(n[e],t),1):delete n[e]}),this}},emit:function(e,t){var n,o,i;this.options.domEvents&&(n=e,o=t,(i=s.createEvent("Event")).initEvent(n,!0,!0),(i.gesture=o).target.dispatchEvent(i));var r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var a=0;a<r.length;)r[a](t),a++}},destroy:function(){this.element&&Z(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ne(X,{INPUT_START:he,INPUT_MOVE:2,INPUT_END:pe,INPUT_CANCEL:fe,STATE_POSSIBLE:We,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:ge,DIRECTION_LEFT:me,DIRECTION_RIGHT:ve,DIRECTION_UP:be,DIRECTION_DOWN:ye,DIRECTION_HORIZONTAL:_e,DIRECTION_VERTICAL:we,DIRECTION_ALL:ke,Manager:V,Input:w,TouchAction:A,TouchInput:M,MouseInput:F,PointerEventInput:I,TouchMouseInput:$,SingleTouchInput:B,Recognizer:L,AttrRecognizer:D,Tap:U,Pan:H,Swipe:Y,Pinch:j,Rotate:W,Press:q,on:d,off:h,each:a,merge:ie,extend:oe,assign:ne,inherit:t,bindFn:o,prefixed:y}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=X,"function"==typeof define&&define.amd?define(function(){return X}):"undefined"!=typeof module&&module.exports?module.exports=X:i.Hammer=X}(window,document),window.makeObjectObservable=function(e){var o;"object"==typeof e&&(o={},e.addEventHandler=function(e,t){$.isArray(o[e])||(o[e]=[]),o[e].push(t)},e._emitEvent=function(e,n){$.isArray(o[e])&&$.each(o[e],function(e,t){t(n)})})},function(){var y=200;window.NavigationArrowsManager=function(l,d,o){var e,i,h,p,f,g,m,v=!0;this.init=function(){e=$("#Template-navigationButtons").html(),i=$(e),h=i.closest("#b-prev"),p=i.closest("#b-next"),f=i.closest("#b-first"),g=i.closest("#b-last"),n(),t(),$("#pf-stage").prepend(i)},this.setPosition=function(e){var t=l.getStageWidth(),n=l.getStageHeight(),o=l.getMargin(),i=l.getBookWidth(),r=l.getBookHeight(),t=(t-i*e)/2,o=(n-2*o-l.getControlbarHeight()-r*e)/2+o,r=e*r,i=e*i;b(h,(m={prev:{left:t-50-10,top:o+r/2-25},first:{left:t-26-10-8,top:o+r-26},next:{left:t+i+10,top:o+r/2-25},last:{left:t+i+10+8,top:o+r-26}}).prev),b(p,m.next),b(f,m.first),b(g,m.last)},this.shift=function(n,e){var o,i,t,r,a,s,c,u;"undefined"!==$.type(m)&&(o=l.getPN(),i=l.getEndPN(),"undefined"===$.type(i)&&(i=o),s=l.getBookWidth(),t=l.getBookScale(),s=(r=d.SinglePageMode)?s/2:s/4,a=l.getLastPageNumber(),s=Math.abs(n)===s&&!r,c=r&&(0===o||o===a-1),u=r?0:n*t,s||c?!r&&0<n||r&&o===a-1?($.each([["next",p],["last",g]],function(e,t){v&&(o===a-1?t[1].hide():t[1].fadeOut(y))}),$.each([["prev",h],["first",f]],function(e,t){b(t[1],m[t[0]].left+u,m[t[0]].top),v&&0!==i&&t[1].fadeIn(y)})):($.each([["prev",h],["first",f]],function(e,t){v&&(0===o?t[1].hide():t[1].fadeOut(y))}),$.each([["next",p],["last",g]],function(e,t){b(t[1],m[t[0]].left+u,m[t[0]].top),v&&i!==a-1&&t[1].fadeIn(y)})):($.each([["prev",h],["first",f],["next",p],["last",g]],function(e,t){0!==i&&i!==a-1&&(b(t[1],m[t[0]].left+u,m[t[0]].top),v&&((0!==n||r)&&c||t[1].fadeIn(y)))}),v&&(r?0===o?(i!==a-1&&(p.css("display","block"),g.css("display","block")),h.css("display","none"),f.css("display","none")):o===a-1&&(0!==i&&(h.css("display","block"),f.css("display","block")),p.css("display","none"),g.css("display","none")):0!==n&&(0===o||2===o?(i!==a-1&&(p.css("display","block"),g.css("display","block")),h.css("display","none"),f.css("display","none")):(0!==i&&(h.css("display","block"),f.css("display","block")),p.css("display","none"),g.css("display","none"))))))},this.toggle=function(e){var t,n;v=e?(t=l.getPN(),n=l.getLastPageNumber(),e=l.getEndPN(),"undefined"===$.type(e)&&(e=t),0===t?(p.fadeIn(y),g.fadeIn(y)):t===n-1?(h.show(),f.show()):i.show(),!0):(i.hide(),!1)};var t=function(){h.on("click",function(e){e.preventDefault(),l.gotoPrevPage(!0)}),p.on("click",function(e){e.preventDefault(),l.gotoNextPage(!0)}),f.on("click",function(e){e.preventDefault(),l.gotoFirstPage(!0),f.add(h).fadeOut(y)}),g.on("click",function(e){e.preventDefault(),l.gotoLastPage(!0),g.add(p).fadeOut(y)})},n=function(){var e,t,n;"string"===$.type(o.color)&&i.find("g").css("fill",o.color),"string"===$.type(o.hoverColor)&&(t="mouseenter",n="mouseleave",l.getIsTouchDevice()&&(e=l.getPfEvent(),t=e.__onStart,n=e.__onEnd),i.each(function(){$(this).on(t,function(){$(this).find("g").css("fill",o.hoverColor)}),$(this).on(n,function(){$(this).find("g").css("fill",o.color)})}))},b=function(e,t,n){"undefined"!==$.type(t)&&"undefined"!==$.type(n)||(n=t.top,t=t.left),e.css({transform:"translate("+Math.round(t)+"px, "+Math.round(n)+"px)"})};this.init()},window.NavigationArrowsManager.getSize=function(){return 60}}(),window.AudioPlayer=function(e){var o={};this.init=function(){e&&$.each(e,function(e,t){var n;void 0!==t&&"string"==typeof t.src&&((n=new Audio).src=t.src,n.preload="auto",n.loop=!1,"number"==typeof t.volume?n.volume=t.volume:n.volume=1,o[e]=n)})},this.playSound=function(e){void 0!==o[e]&&(o[e].paused||(o[e].pause(),o[e].currentTime=0),o[e].play())},this.init()},window.VideoManager=function(e){var n=this;window.makeObjectObservable(this),this.init=function(){e.addEventHandler("onLoad",t),e.addEventHandler("onFlip",o)};var t=function(e){e=$("#page"+e);$(e).find(".youtube-player").each(function(){var e=$(this),t=$("<div></div>");e.parent().css({width:$(this).data("width"),height:$(this).data("height"),top:$(this).data("top"),left:$(this).data("left")}),t.html(i(e.data("id"))),t.on("click",function(){var e=t.parent();r(e,e.data("id")),n._emitEvent("onVideoFrameClick")}),e.append(t)}),$(e).find(".vimeo-player").each(function(){var e=$(this);$p=$("<div></div>"),$p.html('<img class="vimeo-thumb" src="'+e.data("thumb")+'">'),$p.append(s()),e.parent().css({width:$(this).data("width"),height:$(this).data("height"),top:$(this).data("top"),left:$(this).data("left")}),$p.on("click",function(e){var t=$(e.target).parent().parent();$(e.target).parent().children(".play-button").remove(),$(e.target).parent().append(c()),a(t,t.data("id")),n._emitEvent("onVideoFrameClick")}),e.append($p)})},o=function(){$(".video-iframe").remove(),$(".vimeo-video").remove(),$(".waiting").each(function(){var e=$(this).parent();$(this).remove(),e.append(s())})},i=function(e){return'<img class="video-thumb" src="//i.ytimg.com/vi/'+e+'/hqdefault.jpg"><div class="play-button"></div>'},r=function(e,t){var n=$("<div></div>").addClass("yt-video").attr("id","yt-"+t).attr("z-index","1");n.addClass("video-iframe"),e.append(n),new YT.Player("yt-"+t,{videoId:t,width:parseInt(e.data("width")),height:parseInt(e.data("height")),playerVars:{enablejsapi:!0,autoplay:!0,rel:0,origin:window.location.protocol+"//"+window.location.host+"/"}})},a=function(e,t){var n=$("<div></div>").addClass("vimeo-video").attr("id","vimeo-"+t).attr("z-index","1");e.append(n);e=new Vimeo.Player("vimeo-"+t,{title:!1,id:t,width:parseInt(e.data("width")),height:parseInt(e.data("height")),maxwidth:parseInt(e.data("width")),maxheight:parseInt(e.data("height")),byline:!1,portrait:!1});e.on("loaded",function(){setTimeout(function(){n.addClass("video-iframe")},1e3)}),e.play()},s=function(){return $('<div class="play-button"></div>')},c=function(){return $('<div class="waiting"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div>')};this.init()},window.SearchManager=function(e,t,n){var i,r=e.getPageInfoList();this.init=function(){},this.search=function(g,m){"undefined"===$.type(i)&&o();var n=[];return $.each(i,function(e,h){var p=h.innerText,t=a(p,g),f=[];$.each(t,function(e,o){var t,n,i,r,a,s,c,u="",l=100-g.length;6<l?(s=(r=Math.floor((l-6)/2))<(a=p.length-g.length-o),c=(l=r<o)&&s?(t=o-r,n=o-1+g.length+r,i=!0):l&&!s?(n=p.length-1,t=(c=r-a)+r<o?o-r-c:0,!(i=!0)):s&&!l?(t=0,n=(c=r-o)+r<a?o+g.length-1+r+c:p.length-1,!(i=!1)):(t=0,n=p.length-1,i=!1),t<0&&(t=0),n>p.length-1&&(n=p.length-1),u=p.substring(t,n+1).replace(new RegExp("("+g+")","gi"),"<div class='SearchResult-highlight'>$1</div>"),i&&(u="..."+u),c&&(u+="...")):(u="...<div class='"+m+"'>"+g+"</div>...",t=0,n=p.length-1);var d=!1;$.each(f,function(e,t){var n=t.snippetPositionLeftIdx,t=t.snippetPositionRightIdx;n<=o&&o+g.length-1<=t&&(d=!0)}),d||f.push({pageInfoObject:h,snippet:u,snippetPositionLeftIdx:t,snippetPositionRightIdx:n})}),n=n.concat(f)}),n};var o=function(){var o;i=[],"undefined"!==$.type(window.flipbookSettings.content)&&(o=window.flipbookSettings.content,$.each(r,function(e,t){var n;"string"===$.type(t.__ThumbnailImageUrl)&&"undefined"!==$.type(t.__PageNumber)&&0<t.__PageNumber&&(n=t.__PageNumber,"undefined"!==$.type(o[n])&&(t={pageNumber:n,innerText:$.trim(o[n].replace(/\s+/g," ")),thumbnail:t.__ThumbnailImageUrl},i.push(t)))}))},a=function(e,t){var n=[];if("string"===$.type(e)&&0<e.length&&"string"===$.type(t)&&0<t.length)for(var o=e.toLowerCase(),i=t.toLowerCase(),r=o.indexOf(i);-1!==r&&n.length<1e3;)n.push(r),r=o.indexOf(i,r+1);return n};this.init()},window.SearchScreenManager=function(r,a,t){var n,s,e,o,i,c,u,l,d,h,p=this,f=$("body"),g=!1,m=[],v=0;this.init=function(){e=$($("#Template-searchScreen").html()),i=e.find(".SearchScreen-closeButton"),s=$($("#Template-searchScreenRes").html()),c=e.find(".SearchScreen-inputField"),u=e.find(".SearchScreen-resultsOpaqueContent"),l=e.find(".SearchScreen-resultsBackground"),o=e.find(".SearchScreen-contentTransparent"),c.on("input",b),new Hammer(i.find(".SearchScreen-closeButtonImg")[0]).on("tap",function(e){p.closeSearchScreen(),e.srcEvent.preventDefault()}),l.css("background-color",a.searchResultsBackground),o.css("background-color",a.searchScreenBackground),c.css({"background-color":a.searchInputBackground,color:a.searchInputText}),l.css({"background-color":a.searchResultsBackground}),u.css("color",a.searchResultsText),i.find("svg").css("color",a.color1),c.css("border","0"),u.css("color",a.searchResultsText),(d=u.parent()).on("scroll",y)},this.openSearchScreen=function(){g||(f.append(e),"undefined"===$.type(n)&&(n=Math.ceil(u.height()/168)),u.html(""),c.val(""),v=0,c.focus(),g=!0)},this.closeSearchScreen=function(){g&&(e.detach(),g=!1)};var b=function(e){e=$(e.target).val();u.html(""),v=0,2<e.length&&(m=t.search(e,"SearchScreenRes-highlight"),y())},y=function(e){var i;.8<(d.scrollTop()+u.height())/d.prop("scrollHeight")&&v<m.length+1&&(i=v,$.each(Array(n),function(e){var t,n,o=v+e;o<m.length&&(t=m[o],(n=s.clone()).find(".SearchScreenRes-thumbnail img").attr("src",t.pageInfoObject.thumbnail),n.find(".SearchScreenRes-content").html(t.snippet),e=o===m.length-1,o=n,e||o.css("border-bottom","1px solid "+a.searchResultsSeparator),u.append(n),"undefined"===$.type(h)&&(o=n.find(".SearchScreenRes-container"),h=o.innerWidth()-o.width()),n.css("padding-bottom",h+"px"),n.css("padding-top",h+"px"),new Hammer(n[0]).on("tap",function(){r.gotoPageNumber(t.pageInfoObject.pageNumber,!0),p.closeSearchScreen()}),i+=1)}),v=i)};p.init()},window.SearchTooltipManager=function(i,r,t,n){var o,a,s,c,u,l,e,d,h,p,f=this,g=[],m=0,v="click";window.makeObjectObservable(this),this.getMiniTooltip=function(){return o},this.getFullTooltip=function(){return a},this.toggleTooltipMini=function(e){n.toggleTooltip(o,e),e?(s.val(""),s.css("visibility","visible"),s.focus()):s.css("visibility","hidden")},this.toggleTooltipFull=function(e){n.toggleTooltip(a,e),e?c.css("visibility","visible"):c.css("visibility","hidden")};var b,y=function(){s.add(c).css({"background-color":r.searchInputBackground,color:r.searchInputText}),s.add(c).css("border","0"),l.css("color",r.searchResultsText),a.find(".SearchFull-resultsContainer").css({"background-color":r.searchResultsBackground}),u.css("color",r.searchResultsSeparator)},_=function(){var e=(o.hasClass("ControlbarTooltip--active")?s:c).val();g=[],m=0,2<e.length?(g=t.search(e,"SearchResult-highlight"),f.toggleTooltipMini(!1),f.toggleTooltipFull(!0),c.val(e),c.focus(),c.val(""),c.val(e),l.empty(),0<g.length?(u.hide(),w()):u.show()):(l.empty(),u.show())},w=function(){var o;.8<(l.scrollTop()+l.height())/l.prop("scrollHeight")&&m<g.length+1&&(o=m,$.each(Array(30),function(e){var t,n=m+e;n<g.length&&(t=g[n],(e=p.clone()).find(".SearchResult-thumbnail").append($("<img>").attr("src",t.pageInfoObject.thumbnail)),e.find(".SearchResult-content").html(t.snippet),(n=e).css("background-color",r.searchResultsBackground),n.css("border-bottom","1px solid "+r.searchResultsSeparator),l.append(e),e.on(v,function(){i.gotoPageNumber(t.pageInfoObject.pageNumber,!0),f.toggleTooltipFull(!1)}),o+=1)}),m=o)};i.getIsTouchDevice()&&(b=i.getPfEvent(),v=v+" "+b.__onEnd),o=$(".ControlbarTooltip--searchMini"),a=$(".ControlbarTooltip--searchFull"),s=o.find(".SearchMini-input"),c=a.find(".SearchFull-input"),u=a.find(".SearchFull-noResults"),l=a.find(".SearchFull-results"),e=a.find(".SearchFull-closeButton"),d=a.find(".SearchFull-searchButton"),h=o.find(".SearchMini-searchButton"),p=$($("#Template-searchResult").html()),o.add(a).on("mousedown mouseup mousemove",function(e){e.stopPropagation()}),s.add(c).on("input",_),s.add(c).keypress(function(e){13===e.which&&_()}),h.add(d).on(v,function(e){_()}),e.on(v,function(){f._emitEvent("closeButtonClick")}),l.on("scroll",w),y()},window.ControlBar=function(t,u,l,n){var c,o,d,h,p,f,g,m,v,b,y,_,i,w,r,a,s,k,T,P,S,x,C,E,F,I,B,M,N,A,L,e,R,O,z=this,D=$("#Template-controlBar"),H={color1:"#b7b7b7",color2:"#ebebeb",background:"#272727",pagerText:"#cccccc",tooltipBackground1:"#121212",tooltipBackground2:"#121212",print1:"#808080",print2:"#FFFFFF",print3:"#ffffff",search1:"#121212",searchScreenBackground:"#000000",searchInputBackground:"#121212",searchInputText:"#cccccc",searchResultsBackground:"#dfdfdf",searchResultsSeparator:"#4a4a4a",searchResultsText:"#4a4a4a"},j={},q={color1:[".ControlBar-backToBeginningActiveImg svg",".ControlBar-backActiveImg svg",".ControlBar-forwardActiveImg svg",".ControlBar-forwardToEndActiveImg svg",".ControlBar-printButtonImg svg",".ControlBar-downloadButtonImg svg",".ControlBar-searchButtonImg svg",".ControlBar-menuButtonImg svg",".ControlBar-fullscreenButtonImg svg",".PrintMenu-iconImg svg",".SearchMini-searchButtonImg",".SearchFull-searchButtonImg"],color2:[".ControlBar-backToBeginningActiveImgHover svg",".ControlBar-backActiveImgHover svg",".ControlBar-forwardActiveImgHover svg",".ControlBar-forwardToEndActiveImgHover svg",".ControlBar-printButtonImgHover svg",".ControlBar-downloadButtonImgHover svg",".ControlBar-searchButtonImgHover svg",".ControlBar-menuButtonImgHover svg",".ControlBar-fullscreenButtonImgHover svg",".PrintMenu-iconImgHover svg",".SearchMini-searchButtonImgHover",".SearchFull-searchButtonImgHover"],print1:[".PrintMenu-iconImg",".PrintMenu-iconImgHover"],inactive:[".ControlBar-backToBeginningInactiveImg",".ControlBar-backInactiveImg",".ControlBar-forwardInactiveImg",".ControlBar-forwardToEndInactiveImg"]},W={color1:[".SearchFull-closeButtonImg"],color2:[".SearchFull-closeButtonImgHover"],print2:[".PrintMenu-iconImg svg"],print3:[".PrintMenu-iconImgHover svg"]},Y=u.zIndex||2,U="click",X=!0,V=!0,Z=5,Q=u.useNavBarMinSizes,G=u.navbarMinHeight,J=u.navbarMinWidth,K=u.navBarTablet,ee=u.navBarMobile;this.init=function(){var e;0<D.length&&(t.html(D.html()),c=t.children(".ControlBar"),o=c.children(".ControlBar-content"),c.css("z-index",Y),h=$(".ControlBar-pageNavBar"),p=h.find(".ControlBar-backToBeginningActive"),f=h.find(".ControlBar-backToBeginningInactive"),g=h.find(".ControlBar-backActive"),m=h.find(".ControlBar-backInactive"),v=h.find(".ControlBar-forwardToEndActive"),b=h.find(".ControlBar-forwardToEndInactive"),y=h.find(".ControlBar-forwardActive"),_=h.find(".ControlBar-forwardInactive"),w=h.find(".ControlBar-pageInputContainer"),i=w.find(".ControlBar-pageInput"),d=$(".ControlBar-otherButtons"),r=d.find(".ControlBar-printButton"),a=d.find(".ControlBar-downloadButton"),s=d.find(".ControlBar-searchButton"),k=d.find(".ControlBar-menuButton"),T=d.find(".ControlBar-fullscreenButton"),u.fullScreenEnabled&&!l.getIsMobileDevice()||T.hide(),u.searchButtonEnabled||s.parent().hide(),u.printButtonEnabled&&!l.getIsMobileDevice()||r.parent().hide(),u.navigationButtonsEnabled||h.hide(),u.downloadButtonEnabled&&!l.getIsPhone()||a.hide(),u.thumbnailsButtonEnabled||k.hide(),R=o.innerWidth()-o.width(),C=d.innerWidth(),E=h.innerWidth(),O=o.outerWidth()-C-E,O-=R,J<E+R&&(J=E+R),u.touchControl&&("pointer"===u.touchType||l.getIsMobileDevice())||o.find(".ControlBar-button").addClass("ControlBar-button--hover"),P=p.add(g).add(v).add(y).add(r).add(a).add(s).add(k).add(T),(S=d.find(".ControlbarTooltip--print")).on("mousedown mouseup",function(e){return e.stopPropagation(),!1}),oe(),e={touchControl:(e=ae()).touchControl,color1:e.color1,search1:e.search1,searchInputBackground:e.searchInputBackground,searchInputText:e.searchInputText,searchResultsBackground:e.searchResultsBackground,searchResultsSeparator:e.searchResultsSeparator,searchResultsText:e.searchResultsText,searchScreenBackground:e.searchScreenBackground},N=new window.SearchManager(l,e,o),!u.touchControl||"pointer"!==u.touchType&&!l.getIsMobileDevice()?L=new window.SearchTooltipManager(l,e,N,z):A=new window.SearchScreenManager(l,e,N),ce())},this.updatePage=function(){var e,t,n,o=l.getCurrentPageNumber(),i=l.getPageInfoList(),r=i[o],i=i[o+1];x=!1,r&&0<r.__PageNumber||(r=i,i=void 0),void 0!==i&&0<i.__PageNumber||(x=!0),o=r.__PageName,r=r.__PageNumber,o?e=o:0<r&&(e=r),x||(t=i.__PageName,a=i.__PageNumber,t?n=t:0<a&&(n=a));var a=0;t||o||"number"===$.type(n)&&"number"===$.type(e)&&0<n&&0<e&&(a=1);var s,c,a=u.pagerText.split("~")[a].split("#");x?e&&(s=o?e:a[0]+e+a[1],c=e):(s=o&&t?e+" - "+n:o?e+" - "+a[0]+n+a[1]:t?a[0]+e+a[1]+" - "+n:a[0]+e+a[1]+n+a[2],c=e+"-"+n),c=encodeURI(c),le(s),z.adjustButtonsToScreenSize(),u.hashControl&&l.updateHash(c),se()},this.getHeight=function(){var e=0;return"undefined"!==$.type(Z)&&(e=o.outerHeight()),e},this.adjustButtonsToScreenSize=function(){K&&l.getIsTablet()||ee&&l.getIsPhone()?h.hide():(!0===Q?re:ie)()},this.toggleTooltip=function(e,t){var n=e.hasClass("ControlbarTooltip--active");void 0===t&&(t=!n),t&&!n?e.addClass("ControlbarTooltip--active"):!t&&n&&e.removeClass("ControlbarTooltip--active")};function te(e){"undefined"===$.type(B)&&(B=g.is(":hidden")),B&&e?(2<=Z&&(g.show(),m.hide()),4<=Z&&(p.show(),f.hide())):B||e||(2<=Z&&(g.hide(),m.show()),4<=Z&&(p.hide(),f.show())),B=!e}function ne(e){"undefined"===$.type(M)&&(M=y.is(":hidden")),M&&e?(2<=Z&&(y.show(),_.hide()),4<=Z&&(v.show(),b.hide())):M||e||(2<=Z&&(y.hide(),_.show()),4<=Z&&(v.hide(),b.show())),M=!e}var oe=function(){u.controlbarTooltipEnabled&&(e=new window.FlipbookTooltips({el:c.find("div.ControlBar-button[data-tooltip]"),color:u.controlbarTooltipColor,background:u.controlbarTooltipBackground,orientation:"top",margin:45,fixedY:function(){return $(document).height()-c.height()}}),c.find("div.ControlBar-button[data-tooltip]").on(U,e.events.hide))},ie=function(){function e(e){B?(g.hide(),m.toggle(e)):(g.toggle(e),m.hide()),M?(y.hide(),_.toggle(e)):(y.toggle(e),_.hide())}function t(e){B?(p.hide(),f.toggle(e)):(p.toggle(e),f.hide()),M?(v.hide(),b.toggle(e)):(v.toggle(e),b.hide())}function n(e){w.toggle(e)}"undefined"===$.type(F)&&(F=g.width()+y.width(),I=p.width()+F+v.width());var o=R+C+2,i=R+(F+O+4)+C,r=R+(I+O+8)+C,a=r+w.width()+8+6,s=$(window).width();s<o?X&&(h.hide(),d.hide(),c.hide(),V=X=!1,Z=void 0):o<=s&&s<i?0!==Z&&(X=!0,c.show(),d.show(),h.hide(),V=!1,Z=0):i<=s&&s<r?2!==Z&&(X=!0,c.show(),e(!0),t(!1),n(!1),d.show(),u.navigationButtonsEnabled&&(h.show(),V=!0),Z=2):r<=s&&s<a?4!==Z&&(X=!0,c.show(),e(!0),t(!0),n(!1),d.show(),u.navigationButtonsEnabled&&(h.show(),V=!0),Z=4):5!==Z&&(X=!0,c.show(),e(!0),t(!0),n(!0),d.show(),u.navigationButtonsEnabled&&(h.show(),V=!0),Z=5)},re=function(){var e=$(window).width(),t=$(window).height();V&&(e<J||t<G)?(h.hide(),V=!1,X||c.hide()):V||J<e&&G<t&&(u.navigationButtonsEnabled&&(h.show(),V=!0),c.is(":visible")||c.show());t=V?E:0;X&&e<C+t?(d.hide(),V||c.hide(),X=!1):!X&&C+t<e&&(d.show(),c.is(":visible")||c.show(),X=!0)},ae=function(){j=$.extend({},H),"object"==typeof u.colors&&$.each(u.colors,function(e,t){j[e]=t}),j.inactive=pe(j.color1),$.each(q,function(n,e){$.each(e,function(e,t){$(t).css("fill",j[n])})}),$.each(W,function(n,e){$.each(e,function(e,t){$(t).css("color",j[n])})}),o.css("background-color",j.background),i.css("color",j.pagerText);var e=S.add(void 0).add(void 0);return e.css("background-color",j.tooltipBackground1),e.find(".ControlbarTooltip-arrow").css("border-top","solid "+j.tooltipBackground1+" 10px"),$(".PrintMenu-choice").css("background-color",j.tooltipBackground2),$(".PrintMenu-caption").css("color",j.color1).hover(function(e){$(this).css("color","mouseenter"===e.type?j.color2:j.color1)}),j},se=function(){var e;u.navigationLoop||(0<(e=l.getCurrentPageNumber())?te(!0):0===e&&te(!1),e<l.getLastPageNumber()-1?ne(!0):e===l.getLastPageNumber()-1&&ne(!1))},ce=function(){P.not(k).on(U,function(e){e.preventDefault(),l.hideThumbnails()}),o.on("mousedown mouseup",function(e){return e.stopPropagation(),!1}),p.on(U,function(e){e.preventDefault(),l.gotoFirstPage(!0)}),g.on(U,function(e){e.preventDefault(),l.gotoPrevPage(!0)}),y.on(U,function(e){e.preventDefault(),l.gotoNextPage(!0)}),v.on(U,function(e){e.preventDefault(),l.gotoLastPage(!0)}),ue(),de(),a.on(U,function(e){e.preventDefault(),l.download()}),k.on(U,function(e){e.preventDefault(),l.getIsThumbnailMode()?(k.data("tooltip-hidden",!1),l.hideThumbnails()):(k.data("tooltip-hidden",!0),l.showThumbnails())}),P.not(k).on(U,function(e){l.getIsThumbnailMode()&&l.hideThumbnails()}),T.on(U,function(e){e.preventDefault(),l.getIsFullScreen()?l.exitFullScreen():l.enterFullScreen()}),he()},ue=function(){function t(){var e=i.val(),e=parseInt(e,10);!isNaN(e)||e>l.getLastPageNumber()?l.gotoPageNumber(e,!0):i.val(n),le()}var n;i.on("click",function(){i.focus()}),i.on("focus",function(){n=i.val(),i.val("")}),i.on("blur",t),i.keypress(function(e){13===e.which&&(l.getIsFullScreen()?t():i.trigger("blur"))})},le=function(e){"undefined"===$.type(e)&&(e=i.val());var t=35;5<e.length&&(t+=6*(e.length-5)),t+=2,w.css({width:t}),i.val(e)},de=function(){function t(){z.toggleTooltip(S,!1),r.data("tooltip-hidden",!1)}r.on(U,function(){x?(t(),l.printBoth()):(z.toggleTooltip(S),"undefined"!==$.type(L)&&(L.toggleTooltipMini(!1),L.toggleTooltipFull(!1)),r.data("tooltip-hidden",!0))}),s.add(k).add(a).add(T).on(U,function(){z.toggleTooltip(S,!1)}),S.find(".PrintMenu-choice--left").on(U,function(e){e.preventDefault(),l.printLeft(),t()}),S.find(".PrintMenu-choice--right").on(U,function(e){e.preventDefault(),l.printRight(),t()}),S.find(".PrintMenu-choice--both").on(U,function(e){e.preventDefault(),l.printBoth(),t()}),l.addEventHandler(["onPageChange","onZoomIn","onZoomOut","onLinkClicked"],t),i.on("focus",t),n.addEventHandler("onVideoFrameClick",t)},he=function(){function e(){t&&("undefined"===$.type(A)?(t=!1,s.data("tooltip-hidden",!1),"undefined"!==$.type(L)&&(L.toggleTooltipMini(!1),L.toggleTooltipFull(!1))):A.closeSearchScreen())}var t=!1;s.find("svg").on(U,function(){t?e():t||("undefined"===$.type(A)?(t=!0,s.data("tooltip-hidden",!0),"undefined"!==$.type(L)&&L.toggleTooltipMini(!0)):A.openSearchScreen())}),r.add(k).add(a).add(T).on(U,e),"undefined"!==$.type(L)&&L.addEventHandler("closeButtonClick",e),l.addEventHandler(["onPageChange","onZoomIn","onZoomOut","onLinkClicked"],e),i.on("focus",e),n.addEventHandler("onVideoFrameClick",e)},pe=function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,o){return t+t+n+n+o+o});var t,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),o=e;return $.isArray(n)&&3<n.length&&(t=parseInt(n[1],16),e=parseInt(n[2],16),n=parseInt(n[3],16),o="#"+((1<<24)+(Math.ceil(0)+Math.ceil(.4*t)<<16)+(Math.ceil(0)+Math.ceil(.4*e)<<8)+(Math.ceil(0)+Math.ceil(.4*n))).toString(16).slice(1)),o};this.init()};var YT,YTConfig,_gaq=_gaq||[],userAgent=navigator.userAgent||navigator.vendor||window.opera;if(/Presto/i.test(userAgent)||/Android 2\./i.test(userAgent))throw new Error("use_fallback");(function(A,c,G){"use strict";function u(){bn=[],mn=[],vn=[],wt.empty(),Ii()}function t(e){gn=[],mn=[],bn=[];for(var t,n,o,i,r,a,s,c=0,u=0,l=0,d=1,h=!(vn=[]);u<e.length;u++)t=(n=A(e[u])).attr("class"),r=tt&&ge,(o="cover"===t)&&(h=o),a=(i=tt?!1:"outerpage"===t)||o,(o||"page"===t||i)&&(0!=c||i||me?tt&&!ge&&Ei(l++,Fi(A("<div class='page'></div>"),!0,o,void 0,l)):r||Ei(l++,{__PageNumber:0,__notEmpty:!1}),0===c&&i&&(me=!1),a=Fi(n,i,o,a,l),"undefined"===A.type(a.__PageNumber)?a.__PageNumber=d++:0<a.__PageNumber&&(d=a.__PageNumber+1),Ei(l++,a),r&&Ei(l++,Fi(A("<div class='page'></div>"),!0,o,void 0,l)),c++);Nt=l-1,D&&(s=gn[Nt],"undefined"!==A.type(s)&&(s.__isHard=!0)),Ci(),ge&&gn.reverse(),h||(Dt=!1),da(te,ne),la()}function J(e){zn=zn<e?e:zn}function K(e){Rn=Rn<e?e:Rn}function L(){var e=je-(C&&!fe?ki((zn-Rn)/2):0),t=qe-(C&&fe?ki((zn-Rn)/2):0);ei&&Jn<.01&&Ft.shift(e,t),Rt==e&&Ot==t||(qt=!0,Rt=e,Ot=t,kt.css({transform:lr(Rt,Ot)}))}function l(){A.each(gn,function(e,t){"undefined"!==A.type(t.$p)&&0<t.$p.length&&Mi(e)})}function d(e,t){t=t?24/(zt+Gn*Jn):24,e.css({"background-image":'url("'+Go+'inc/img/loader.gif")',"background-color":"white","background-repeat":"no-repeat","background-position":"50% 50%","background-size":t+"px "+t+"px"})}function a(e,t,n,o,i,r,a,s){if(!sn){a=a||e,s=s||t;var c,u=Xt.length,r=r||2,i=i||0;if(!(Kt<=u||(c=0==u?$t:Jt,r+=r%2,o<0&&c-r<te||0<o&&ne<c+r))){var l=c+(0<o?1:0),d=c+(r-(o<0?1:0))*o,i=gn[l].__isHard||gn[d].__isHard?2:i;if(0==u)Yt=!0,Vt=o,Zt=i,Pa("onFlippingSequenceStarted");else if(Vt!=o||Zt!=i)return;return 0!==n&&1!==n&&4!==n||Pa("onAutoFlippingSequenceStarted"),Qt=n,Jt=(Gt=c)+r*o,r=1==Zt,Xt[u]=Li({__startPN:Gt,__endPN:Jt,__startPagePN:r?d:l,__endPagePN:r?l:d,__flipMode:n,__flipType:Zt,__dir:o,__started:!1,__success:!1},e,t),Ii(),(a||s)&&Ri(Xt[u],a*Mn,s),1}}}function s(e,t,n,o,i){return n=n||e.__dir,e.__dir==n&&0!=e.__flipMode&&4!=e.__flipMode&&5!=e.__flipMode&&0!=t&&1!=t&&(Qt=e.__flipMode=t,Ri(e,o,i),!0)}function o(e){var t,n,o,i,r=Xt[e];r.__success?($t=r.__endPN,Pa("onBeforePageChange",r.__startPN),Pa("onPageChange",$t)):sn=!1,Pa(1,r.__startPagePN),Pa(1,r.__endPagePN),n=(t=r).__startPagePN,o=t.__endPagePN,i=gn[n].$p,t=gn[o].$p,gn[n].__flip=gn[n].__animated=gn[o].__flip=gn[o].__animated=!1,t.css({transform:lr(0,0)+"rotate(0deg) "}),i.css({transform:lr(0,0)+"rotate(0deg) "}),Xt.splice(e,1),(Yt=0!=Xt.length)&&0<e&&(Gt=Xt[e-1].__startPN,Jt=Xt[e-1].__endPN),r.__success&&(Pa(0===Qt||1===Qt?"onAutoFlippingSequenceEnded":"onManualFlippingSequenceEnded"),Pa("onPageChangingComplete"))}function h(e,t,n,o,i,r,a){e.__stx=e.__ax,e.__sty=e.__ay,e.__tx=t,e.__ty=n,e.__duration=o,e.__styleX=i,e.__styleY=r,e.__start=zi().getTime(),e.__r=a}function i(e){var t=zi().getTime()-e.__start,n=e.__duration,o=!1;n<=t&&(o=!0,t=n);var i=t/n,t=e.__tx-e.__stx,n=e.__ty-e.__sty;return{x:e.__stx+Oi(e.__styleX,i,t,e.__r),y:e.__sty+Oi(e.__styleY,i,n,e.__r),end:o}}function n(e){if(!A(e.target).hasClass("pf-hotspot")&&(kn=!e||!e.type||"mousedown"!==e.type,"undefined"===A.type(un)&&(ln=void 0,un=+new Date,!an&&!nn&&Ze))){Yi(e),br=Jn;var t=Vi(en,tn,rn);if(t&&ha())switch(Wi(),hr(e),t){case"TL":case"BL":rn||on?s(Xt[Xt.length-1],2,-1)&&(rn=on=!1,an=!0):a(en,tn,2,-1,0)&&(an=!0);break;case"TR":case"BR":rn||on?s(Xt[Xt.length-1],2,1)&&(rn=on=!1,an=!0):a(en,tn,2,1,0)&&(an=!0)}else if((t=Zi(en,tn))&&ha())switch(Wi(),hr(e),t){case"OL":a(en,tn,2,-1,1)&&(an=!0);break;case"IR":a(fe?en<0?-dn:dn:-Fn,fe?-Fn:tn<0?-hn:hn,2,-1,tt?1:0)&&(an=!0);break;case"OR":a(en,tn,2,1,1)&&(an=!0);break;case"IL":a(fe?en<0?-pn:pn:Fn,fe?Fn:tn<0?-fn:fn,2,1,tt?1:0)&&(an=!0)}else{if(Zn||!Xn||!Ji(e))return!0;if("pf-hotspot"===e.target.className)return!0;e=Xi(e,!(mo=!0));"undefined"!==A.type(e)&&(e=Ui(wn,e.x,e.y,!0),isNaN(e.x)||isNaN(e.y)||Lr(e.x,e.y))}}}function r(e){if(!(e&&e.type&&"mousemove"===e.type&&kn))if(wn||(e.pageX,e.pageY),wn||!Xn||mo||!Ji(e)){if(!nn&&Ze)if((an||rn||mo)&&hr(e),Yi(e),Zn||!mo){var t=Vi(en,tn,rn);if(rn&&!wn)t||ji(Xt[Xt.length-1]);else if(!an&&!wn&&!Xn&&ve&&!tt&&t)switch(t){case"TL":case"BL":a(fe?en<0?-dn:dn:en,fe?tn:tn<0?-hn:hn,3,-1,0,G,en,tn)&&(rn=!0);break;case"TR":case"BR":a(fe?en<0?-pn:pn:en,fe?tn:tn<0?-fn:fn,3,1,0,G,en,tn)&&(rn=!0)}}else{t=Xi(e,!1);"undefined"!==A.type(t)&&(n=Ui(wn,t.x,t.y,!0),isNaN(n.x)||isNaN(n.y)||Nr(n.x,n.y))}}else{var n;hr(e),mo=!0,"undefined"!==A.type(e.pageX)&&(n=Ui(wn,e.pageX,e.pageY,!0),Lr(n.x,n.y))}}function p(e){if(!(e&&e.type&&"mouseup"===e.type&&kn)){if(ln=+new Date-un,un=void 0,e.target){var t=A(e.target),n=!1;if((t.hasClass("pf-thumbnail-button")||t.hasClass("pf-thumbnail-page"))&&(n=!0),"pf-thumbnail-container"!==t.attr("id")&&"pageflip-thumbnails"!==t.attr("id")||(n=!0),n)return!0}if(Ze)if(Yi(e),jn=null,an||rn)hr(e),Pa("onManualEnded"),ji(Xt[Xt.length-1],!0),qt=!1,Hi();else if(mo){if(hr(e),wn&&(mo=!1),!Ji(e))return!0;!wn&&Qi(en,tn)&&Xe&&(mo=!1,"video-thumb"!==e.target.className&&"vimeo-thumb"!==e.target.className&&"play-button"!==e.target.className&&"pf-hotspot"!==e.target.className&&(Sa.zoomOut(),Sa.hideThumbnails()))}else{if(!Ji(e))return!0;!wn&&Qi(en,tn)&&Xe&&"video-thumb"!==e.target.className&&"vimeo-thumb"!==e.target.className&&"play-button"!==e.target.className&&"pf-hotspot"!==e.target.className&&(e=Ui(wn,e.pageX,e.pageY),Rr(en,tn,e.x,e.y),Sa.zoomIn(),Sa.hideThumbnails())}}}function f(e,t,n){Gr();var o=!1,i=fe?-.5:e,r=fe?2*e:1;return a(i*P,r*S/2,0,e,t,n,i*P*.97,r*S/2*.97)&&((i=Xt[Xt.length-1]).__success=!0,r=1==i.__flipType?1:-1,fe?h(i,i.__sx,r*i.__sy,He,5,2==i.__flipType?0:3,-P/8-(Ti()-.5)*P/16):h(i,r*i.__sx,i.__sy,He,2==i.__flipType?0:3,5,-S/8+(Ti()-.5)*S/16),o=!0),o}function g(){return wn?tt?.15:.3:.1}function m(e,t,n){Gr();var o=!1;if(e<te||ne<e)return Pa("onPageChangingComplete"),o;if(!Yt&&0==Wo.length)if((e-=e%2)!=$t)if(o=!0,n)$t=e,Pa("onPageChangingComplete"),Ii();else{n=e-$t;if(t)(e==Nt-1&&0!=$t||0==e&&$t!=Nt-1)&&(D||Dt)&&2<yi(n)?n<0?(va(0,n+2),va(200,-2)):(va(0,n-2),va(200,2)):($t==Nt-1&&0!=e||0==$t&&e!=Nt-1)&&(D||Dt)&&2<yi(n)?n<0?(va(0,-2),va(200,n+2)):(va(0,2),va(200,n-2)):va(0,n);else{var i,r=999;n<0?n*=i=-1:i=1,(n/=2)<r&&(r=n);for(var a,s=0,c=n/r,u=0;u<r;u++)a=ki(c*(u+1)),va(u?He/4:0,2*(a-s)*i),s=a}}else Pa("onPageChangingComplete");return o}function v(e){m(ge&&!e?ne:te,!0)}function b(e){return pe&&(ge&&!e?$t<te+1:ne-2<$t)?v(e):f(ge&&!e?-1:1,tt&&ge?1:0,2)}function y(){return!(rn||an)}function _(){var e=(e=gn[$t].__AutoFlipInterval||gn[$t+1].__AutoFlipInterval)==G?de:e;Ho=c.setTimeout(fa,e)}function w(){St&&(A("#b-pause").css("display",nn?"":"none"),A("#b-play").css("display",nn?"none":""))}var k,T,P,S,R,O,z,x,D,H,C,E,F,I,B,M,$,N,j,q,W,Y,U,X,V,Z,Q,ee,te,ne,oe,ie,re,ae,se,ce,ue,le,de,he,pe,fe,ge,me,ve,be,ye,_e,we,ke,Te,Pe,Se,xe,Ce,Ee,Fe,Ie,Be,Me,$e,Ne,Ae,Le,Re,Oe,ze,De,He,je,qe,We,Ye,Ue,Xe,Ve,Ze,Qe,Ge,Je,Ke,et,tt,nt,ot,it,rt,at,st,ct,ut,lt,dt,ht,pt,ft,gt,mt,vt,bt,yt,_t,wt,kt,Tt,Pt,St,xt,Ct,Et,Ft,It,Bt,Mt,$t,Nt,At,Lt,Rt,Ot,zt,Dt,Ht,jt,qt,Wt,Yt,Ut,Xt,Vt,Zt,Qt,Gt,Jt,Kt,en,tn,nn,on,rn,an,sn,cn,un,ln,dn,hn,pn,fn,gn,mn,vn,bn,yn,_n,wn,kn,Tn,Pn,Sn,xn,Cn,En,Fn,In,Bn,Mn,$n,Nn,An,Ln,Rn,On,zn,Dn,Hn,jn,qn,Wn,Yn,Un,Xn,Vn,Zn,Qn,Gn,Jn,Kn,eo,to,no,oo,io,ro,ao,so,co,uo,lo,ho,po,fo,go,mo,vo,bo,yo,_o,wo,ko,To,Po,So,xo,Co,Eo,Fo,Io,Bo,Mo,$o,No,Ao,Lo,Ro,Oo,zo,Do,Ho,jo,qo,Wo,Yo,Uo,Xo,Vo,Zo=!1,Qo=!1,Go="",Jo=700,Ko=500,ei=!1,ti={},ni=!0,oi=700,ii=500,ri=!1,ai=!1,si=ai,ci=!0,ui=!0,li=A(),di={},hi=[],pi=(e=Math).PI,fi=["left","right"],gi=e.sin,mi=e.asin,vi=e.cos,bi=e.sqrt,yi=e.abs,_i=e.floor,wi=e.ceil,ki=e.round,Ti=e.random,Pi="auto",Si=85,xi=function(){At=2*R,Lt=+O,fe&&(At=R,Lt=2*O),tt&&(At=R,Lt=O),Dt=P<R||S<O,Ht=2*wi(dr(P,S)/2),jt=2*wi(dr(R,O)/2),Bn=3-(In=fe?1:2),Mn=fe?-1:1},Ci=function(){Nt%2==0&&(gn[Nt].__notEmpty?Ei(++Nt,{__PageNumber:0,__notEmpty:!1}):(gn.splice(Nt,1),Nt--))},Ei=function(e,t){gn[e]=t},Fi=function(e,t,n,o,i){t=t||!1,(n=n||1===i)||"undefined"===A.type(ne)||(n=tt?i===ne-2:i===ne-1),o=o||!1;var r=e.data(),a=r.disableEmbossing,i=H||!0===r.hard;D&&n&&(i=!0);t={__Unload:!(0==r.unload),__BackgroundFiles:[],__HtmlFile:r.htmlFile,__HtmlData:e.html(),__ThumbnailImageUrl:r.thumbnailImage,__ThumbnailImage:void 0,__DisableEmbossing:"undefined"===A.type(a)?!Me:a,__TransparentPage:1==r.transparentPage,__RemovablePage:1==r.removablePage,__PageNumber:t?0:r.pageNumber,__PageName:r.pageName,__PageLabel:r.pageLabel,__AutoFlipInterval:r.autoFlipInterval,__Data:r.data,__renderWidth:o?R:P,__renderHeight:o?O:S,__maskSize:n?jt:Ht,__isHard:i,__isCover:o,__outer:t,__notEmpty:!0};return"undefined"!==A.type(r.backgroundFileDesktop)&&t.__BackgroundFiles.push({type:"desktop",url:r.backgroundFileDesktop,set:!1}),"undefined"!==A.type(r.backgroundFileMobile)&&t.__BackgroundFiles.push({type:"mobile",url:r.backgroundFileMobile,set:!1}),t.__isHard&&(t.__DisableEmbossing=!0),t.__isLoaded=!t.__HtmlFile,t},Ii=function(){var e=mn,t=bn,n=[],o=[],i=[],r=[],a=[],s=$t,c=$t+1;if(Rn=zn=Nn=Ln=0,Ut=[],Yt){Vt<0?s=Jt:c=Jt+1;for(var u,l,d=0;d<Xt.length;d++)u=Xt[d].__startPagePN,l=Xt[d].__endPagePN,gn[u].__flip=gn[l].__flip=gn[l].__animated=!0,gn[u].__animated=!1,1!=Xt[d].__flipType?(Ut.splice(0,0,u),Ut.push(l)):(Ut.splice(d,0,l),Ut.splice(d,0,u)),Xt[d].__started||(a.push({e:0,p:u}),a.push({e:0,p:l}),Xt[d].__started=!0),gn[u].__onTop&&(Pa(3,u),gn[u].__onTop=!1),gn[l].__onTop&&(Pa(3,l),gn[l].__onTop=!1)}bn=[];for(var h=s,p=gn[h].__notEmpty,f=p?Fe:0;0<=h;)p||gn[h].__isCover&&!gn[h].__outer&&Dt?(n.push(h),p=Ee&&gn[h].__TransparentPage):0<f&&(gn[h].__notEmpty&&bn.push(h),gn[h+1].__notEmpty&&bn.push(h+1),f--),!p&&0==f&&4<h?h=2:h-=2;for(var g=c,f=(p=gn[g].__notEmpty)?Fe:0;g<=Nt;)p||gn[g].__isCover&&!gn[g].__outer&&Dt?(o.push(g),p=Ee&&gn[g].__TransparentPage):0<f&&(gn[g-1].__notEmpty&&bn.push(g-1),gn[g].__notEmpty&&bn.push(g),f--),!p&&0==f&&g<Nt-4?g=Nt-2:g+=2;mn=[];for(var m,v,b=n.length,y=o.length,_=y<b?b:y,d=0;d<_;d++)d<y&&(v=o[d],m=gn[v],J(fe?m.__renderHeight:m.__renderWidth),m.__outer||(Ln=zn),mn.splice(0,0,v),m.__flip=!1,0!=d||Yt?m.__onTop&&(Pa(3,v),m.__onTop=!1):m.__onTop||(a.push({e:2,p:v}),m.__onTop=!0)),d<b&&(v=n[d],m=gn[v],K(fe?m.__renderHeight:m.__renderWidth),m.__outer||(Nn=Rn),mn.splice(0,0,v),gn[n[d]].__flip=!1,0!=d||Yt?m.__onTop&&(Pa(3,v),m.__onTop=!1):m.__onTop||(a.push({e:2,p:v}),m.__onTop=!0));$n=Rn,An=zn,Yt?mn=mn.concat(Ut):L(),(!Yt||D&&!We)&&Yt||Ai(Nn,Ln);for(d=0;d<mn.length;d++)v=mn[d],e.lastIndexOf(v)<0&&i.push(v);i=i.concat(bn);for(d=0;d<e.length;d++)v=e[d],mn.lastIndexOf(v)<0&&r.push(v);for(d=0;d<t.length;d++)v=t[d],bn.lastIndexOf(v)<0&&mn.lastIndexOf(v)<0&&r.push(v);for(var w,k,T,P,S,x,d=0;d<r.length;d++)w=r[d],S=vn.lastIndexOf(w),(v=gn[w]).__onTop&&(Pa(3,w),a.push({e:3,p:w}),m.__onTop=!1),!1!==v.__Unload?(0<=S&&vn.splice(S,1),Pa(5,w),v.$p.remove(),v.__masked&&(v.__masked=!1,v.$m.remove(),v.$fsc&&v.$fsc.remove()),v.$hts&&(v.$hts.remove(),v.$hts=G)):S<0&&(v.__masked&&$i(w),v.$p.css("display","none"),vn.push(w),a.push({e:7,p:w}));A.each(Array(i.length),function(e){C=i[e],S=vn.lastIndexOf(C),x=bn.lastIndexOf(C),0<=S?x<0&&(vn.splice(S,1),gn[C].$p.css("display",""),a.splice(0,0,{e:8,p:C})):(x<0&&a.splice(0,0,{e:8,p:C}),wt.append(Ki(C)),F=gn[C].$p=tr(C),a.splice(0,0,{e:4,p:C}),I=gn[C].__renderWidth,B=gn[C].__renderHeight,P=fe?(T=(R-I)/2,k=C%2?O:O-B,Pi):(T=tt?(k=(O-B)/2,C%2?R/2:R-I):(k=(O-B)/2,C%2?Pi:R-I),C%2?R-I:Pi),F.css({position:"absolute",overflow:"hidden",width:I,height:B,top:k,left:T,right:P}),P=gn[C].$c=nr(C),"undefined"!==A.type(z)&&Mi(C),P.html(gn[C].__HtmlData),gn[C].__HtmlFile&&P.load(gn[C].__HtmlFile,"GET"),gn[C].__isCover||gn[C].__DisableEmbossing||(P.after(er("pf-emboss-"+(C%2?"right":"left"),"page"+C+"emboss")),or(C).css({position:"absolute",overflow:"hidden",width:fe?B/7:I/7,height:fe?I:B,top:fe?C%2?-I/2:B-I/2:0,left:fe?C%2?"50%":Pi:C%2?0:Pi,right:fe?C%2?Pi:"50%":C%2?Pi:0,"transform-origin":fe?C%2?"0% 50%":"100% 50%":"",transform:fe?"rotate(90deg)":"",opacity:Re})),0<=x&&(F.css("display","none"),vn.push(C),a.push({e:7,p:C})))});for(var C,E,F,I,B,M,$,d=0,N=2;d<mn.length;d++)C=mn[d],E=gn[C],F=E.$p,I=E.__renderWidth,B=E.__renderHeight,E.__flip&&E.__masked?(!Ie&&E.__animated&&E.$fsc.css({"z-index":N++}),E.$m.css({"z-index":N++})):E.__flip&&!E.__masked?2==Zt?($=N++,F.css({"z-index":$,"transform-origin":fe?C%2?"50% 0%":"50% 100%":C%2?"0% 50%":"100% 50%","backface-visibility":"hidden"}),C%2==0&&(D&&C-1==1||H)&&tt&&F.css("display","none"),Ie||E.$hts||(E.$c.after(er("pf-hard-topshadow","page"+C+"hardtopshadow")),E.$hts=ur(C),E.$hts.css({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,"+Le+")"}))):(F.wrap(er("pf-mask","page"+C+"mask")),E.$m=ir(C),M=E.__maskSize,$=-E.__animated,E.$m.css({position:"absolute",right:fe?Pi:"50%",top:fe?O-M:(O-M)/2,left:fe?(R-M)/2:Pi,width:M,height:M,"transform-origin":fe?"50% 100%":"100% 50%",overflow:"hidden"}),F.css({top:fe?Pi:(M-B)/2,bottom:fe?C%2?-B:0:Pi,left:Pi,right:fe?(M-I)/2:C%2?-I:0,"z-index":""}),Ie||$&&(E.$c.after(er("pf-flip-topshadow","page"+C+"fliptopshadow")),E.$fts=cr(C),E.$fts.css({position:"absolute",top:(B-M)/2,left:I/2-Fn,width:Fn,height:M,"transform-origin":"100% 50%",overflow:"hidden",opacity:Ne}),E.$m.before(er("pf-flip-shadow-container","page"+C+"flipshadowcontainer",er("pf-flip-shadowA","page"+C+"flipshadowA")+er("pf-flip-shadowB","page"+C+"flipshadowB"))),E.$fsc=rr(C),E.$fsA=ar(C),E.$fsB=sr(C),Ni(C,N++,B,I,M)),E.$m.css({"z-index":N++}),E.__masked=!0):!E.__flip&&E.__masked?($i(C),F.css("z-index",N++)):(E.$hts&&(E.$hts.remove(),E.$hts=G),F.css("z-index",E.__outer?0:N++));for(d=0;d<a.length;d++)Pa(a[d].e,a[d].p);qi(),_e&&ea(),Bi()},Bi=function(e){ui&&("number"!==A.type(Jn)||Yt||Wo&&0<Wo.length||Xt&&0<Xt.length?Mt.setCursor(A(".pf-page-cursoroverlay")):.02<Jn&&"undefined"===A.type(e)||"zoomout"===e?Mt.setCursor(A(".pf-page-cursoroverlay"),"zoomout"):(Jn<.02&&"undefined"===A.type(e)||"zoomin"===e)&&(zt<1?Mt.setCursor(A(".pf-page-cursoroverlay"),"zoomin"):Mt.setCursor(A(".pf-page-cursoroverlay")))),ct&&(A("a.pf-hotspot").css("opacity",.5),A("a.pf-hotspot").css("background",ut))},Mi=function(a){var s=function(t,n,e){var o,i;return"undefined"===A.type(hi[t])&&(hi[a]={}),"undefined"===A.type(hi[t][n])?(o=A.Deferred(),d(A("#page"+t),!0),(i=new Image).onload=o.resolve.bind(o,i),i.src=e,i.loadingPromise=o,i.onerror=function(){setTimeout(function(){s(t,n,e).done(function(e){hi[t][n]=e,o.resolve(e)})},500)}):("resolved"!==hi[t][n].loadingPromise.state()&&d(A("#page"+t)),o=hi[t][n].loadingPromise),o},e="undefined"===A.type(a)?[$t,$t+1]:[a];A.each(e,function(e,n){var o,i,t,r;"undefined"===A.type(gn[n])||"undefined"===A.type(gn[n].__BackgroundFiles)||0<(o=gn[n].__BackgroundFiles).length&&(i=0,1<o.length&&(ni||(i=1)),o[i].set&&(n===$t||n===$t+1)||(!o[i].set&&1<o.length&&(o[Math.abs(i-1)].set=!1),t=o[i].type,r=o[i].url,s(a,t,r).done(function(){var e,t;e=A("#page"+n),t=o[i].url,e.css({"background-image":"none"}),setTimeout(function(){e.css({"background-image":"url('"+t+"')","background-size":"100% auto"})},50),o[i].set=!0})))})},$i=function(e){var t=gn[e],n=t.$p,o=t.__renderWidth,i=t.__renderHeight;n.unwrap();var r=tt?e%2?R/2:R-o:fe||e%2?Pi:R-o;n.css({top:fe?e%2?O:O-i:(O-i)/2,left:r,right:fe?(R-o)/2:e%2?R-o:Pi,"transform-origin":"","backface-visibility":""}),t.$fsc&&(t.$fsc.remove(),t.$fsc=t.$fsA=t.$fsB=G),t.$fts&&(t.$fts.remove(),t.$fts=G),t.__masked=!1},Ni=function(e,t,n,o,i){var r=tt?-R/2:fe?(R-o)/2:R-o;gn[e].$fsc.css({"z-index":t++,position:"absolute",top:fe?O-n:(O-n)/2,left:r,width:fe?o:2*o,height:fe?2*n:n,overflow:"hidden",opacity:Ae}),gn[e].$fsA.css({position:"absolute",top:fe?n-i:n/2-i,right:fe?o/2:o,width:Fn,height:2*i,"transform-origin":"100% 50%",overflow:"hidden"}),gn[e].$fsB.css({position:"absolute",top:fe?n-i/2:(n-i)/2,left:fe?o/2:o,width:Fn,height:i,"transform-origin":"0% 50%",overflow:"hidden"})},Ai=function(e,t){0<li.length&&(e!==On||t!==Dn)&&(t=((On=e)+(Dn=t))/(fe?Lt:At),fe?Tt.css("transform",lr(0,Lt/2-e)+"scaleY("+t+")"):Tt.css("transform",lr(At/2-e,0)+"scaleX("+t+")"))},Li=function(e,t,n){var o=e.__endPagePN,i=gn[o].__renderWidth,r=gn[o].__renderHeight;return 2==e.__flipMode&&(fe?(t*=r*e.__dir/n,n=r*e.__dir,t<-i/2&&(t=-i/2),i/2<t&&(t=i/2)):(n*=i*e.__dir/t,t=i*e.__dir,n<-r/2&&(n=-r/2),r/2<n&&(n=r/2))),e.__side=o%2?1:-1,e.__sx=fe?-t:-i*e.__side,e.__sy=fe?-r*e.__side:n,e.__cx=fe?0:-i/2*e.__side,e.__cy=fe?-r/2*e.__side:0,e.__ax=fe?-t:-i*(t<0?1:-1),e.__ay=fe?-r*(n<0?1:-1):n,e},Ri=function(e,t,n,o){t=t||e.__ax,n=n||e.__ay;var i,r=e.__startPagePN,a=e.__endPagePN,s=gn[r].$p,c=gn[r].$m,u=gn[a].$p,l=gn[a].$m,d=gn[r].__renderWidth,h=gn[r].__renderHeight,p=d/2,f=h/2,g=Vt*(1==Zt?-1:1),m=e.__sx,v=e.__sy,b=e.__cx,y=e.__cy,_=fe?n==e.__ex?G:n<e.__ex?-1:1:t==e.__ex?G:t<e.__ex?-1:1;e.__ex=fe?n:t,2!=Zt&&(fe?(w=bi(n*n+(p+t)*(p+t)),i=bi(n*n+(p-t)*(p-t)),k=bi(h*h+(p+m)*(p+m)),Q=bi(h*h+(p-m)*(p-m)),(k<w||Q<i)&&5!=e.__flipMode&&(t<m?(B=mi(($=p-t)/i),t=p-gi(B)*Q,n=vi(B)*Q*(n<0?-1:1),m<t&&(t=(n=0<v*n?v:-v,m))):(B=mi(($=p+t)/w),t=gi(B)*k-p,n=vi(B)*k*(n<0?-1:1),t<m&&(t=(n=0<v*n?v:-v,m)))),(v<0&&n-v<20||0<v&&v-n<20)&&!o&&(v<0&&(n=20-h),0<v&&(n=h-20))):(w=bi(t*t+(f+n)*(f+n)),i=bi(t*t+(f-n)*(f-n)),k=bi(d*d+(f+v)*(f+v)),Q=bi(d*d+(f-v)*(f-v)),(k<w||Q<i)&&5!=e.__flipMode&&(n<v?(B=mi(($=f-n)/i),n=f-gi(B)*Q,t=vi(B)*Q*(t<0?-1:1),v<n&&(t=0<m*t?(n=v,m):(n=v,-m))):(B=mi(($=n+f)/w),n=gi(B)*k-f,t=vi(B)*k*(t<0?-1:1),n<v&&(t=0<m*t?(n=v,m):(n=v,-m)))),(m<0&&t-m<20||0<m&&m-t<20)&&!o&&(m<0&&(t=20-d),0<m&&(t=d-20)))),o?(e.__ax=t,e.__ay=n):(e.__ax+=(t-e.__ax)/5,e.__ay+=(n-e.__ay)/5,yi(t-e.__ax)<.5&&yi(n-e.__ay)<.5&&(e.__ax=t,e.__ay=n),t=e.__ax,n=e.__ay);var w,k,T,P,S,x,C,E,F,I,B,M,$,N,A,L,R,O,z,D,H,j,q,W,Y,U,X,V,Z,Q=fe?n/h*Cn:t/d*Cn;if(Q<-Cn&&(Q=-Cn),Cn<Q&&(Q=Cn),Q<0&&K(-gi(Q/xn)*(fe?h:d)),0<Q&&J(gi(Q/xn)*(fe?h:d)),t!=e.__lx||n!=e.__ly)return 2==Zt?(w=Cn*Vt,k=fe?"rotateX":"rotateY",o=3e3,(g=Vt*(Q<0?1:-1))<0?Wt?(P={transform:k+"("+(En+w+Q)*Mn+"deg) "+lr(0,0)},s.css(P),T={transform:k+"("+Cn+"deg) "+lr(o,o)},u.css(T)):(S=-(Cn-yi(Q))/5*Vt,s.css({transform:fe?"scaleY("+gi(Vt*Q/xn)+") skewX("+S+"deg) "+lr(0,0):"scaleX("+gi(Vt*Q/xn)+") skewY("+S+"deg) "+lr(0,0)}),u.css({transform:lr(o,o)})):Wt?(T={transform:k+"("+(En-w+Q)*Mn+"deg) "+lr(0,0)},u.css(T),P={transform:k+"("+Cn+"deg) "+lr(o,o)},s.css(P)):(S=(Cn-yi(Q))/5*Vt,u.css({transform:fe?"scaleY("+gi(-Vt*Q/xn)+") skewX("+S+"deg) "+lr(0,0):"scaleX("+gi(-Vt*Q/xn)+") skewY("+S+"deg) "+lr(0,0)}),s.css({transform:lr(o,o)})),Ie||(g<0?gn[r]:gn[a]).$hts.css("opacity",(1-yi(gi(Q/xn))+1-yi(Q/90))/2),e.__ax=t,e.__ay=n):(fe?(E=m-b,F=v-y,I=bi((x=m-t)*x+(C=v-n)*C),B=mi(x/I)||0,M=bi(E*E+F*F),$=mi(E/M),(C<0||0==C&&g<0)&&(B=pi-B),F<0&&($=pi-$),N=vi($=B-($-B))*M+n,R=b+(A=(gi($)*M+t-b)/2),O=y+(L=(N-y)/2),z=bi(A*A+L*L),L<0&&(z*=-1),D=B*xn,H=6,u.css({transform:lr(0,((f+z)*g).toFixed(H))+"rotate("+D+"deg) "}),l.css({transform:lr(-R.toFixed(H),O.toFixed(H))+"rotate("+D+"deg)"}),s.css({transform:lr(-(gi(-B)*g).toFixed(H),((-f-z+ +vi(-B))*g).toFixed(H))+"rotate("+-D+"deg) "}),c.css({transform:lr((-R).toFixed(H),(O-+g).toFixed(H))+"rotate("+D+"deg)"}),j=yi(vi(B)*f)-z*g,Y=((q=gi(-B)*p+j)+(W=gi(B)*p+j))/2,U=1,j=W<q?q:W,e.__sl=j,Ie||(j/=h,X=(Y/=h)<.05?.05:Y,Y<.2&&(Y=j),Y<.2&&(U=5*Y),.9<Y&&(U=1-10*(Y-.9)),.6<(V=j)&&(V=.8<V?.6-(V-.8):.6+.1*gi((V-.6)/.2*pi)),Z=.5+U/2,gn[a].$fsA.css({transform:lr((-R).toFixed(5),O.toFixed(5))+"rotate("+(D+90)+"deg) scaleX("+6*X+")",opacity:Z.toFixed(5)}),gn[a].$fsB.css({transform:lr((-R).toFixed(5),O.toFixed(5))+"rotate("+(D+90)+"deg) scaleX("+3*j+")",opacity:U.toFixed(5)}),gn[a].$fts.css({transform:"rotate("+(90-D)+"deg) "+lr((-z*g).toFixed(5),0)+"scaleX("+4*V+")",opacity:(U*Ne).toFixed(5)}))):(E=m-b,F=v-y,I=bi((x=m-t)*x+(C=v-n)*C),B=mi(C/I)||0,M=bi(E*E+F*F),$=mi(F/M),(x<0||0==x&&g<0)&&(B=pi-B),E<0&&($=pi-$),R=b+(A=(vi($=B-($-B))*M+t-b)/2),O=y+(L=((N=gi($)*M+n)-y)/2),z=bi(A*A+L*L),A<0&&(z*=-1),D=B*xn,H=6,u.css({transform:lr(((p+z)*g).toFixed(H),0)+"rotate("+D+"deg) "}),l.css({transform:lr(R.toFixed(H),O.toFixed(H))+"rotate("+D+"deg)"}),s.css({transform:lr(((-p-z+ +vi(-B))*g).toFixed(H),(gi(-B)*g).toFixed(H))+"rotate("+-D+"deg) "}),c.css({transform:lr((R-+g).toFixed(H),O.toFixed(H))+"rotate("+D+"deg)"}),j=yi(vi(B)*p)-z*g,Y=((q=gi(-B)*f+j)+(W=gi(B)*f+j))/2,U=1,j=W<q?q:W,e.__sl=j,Ie||(j/=d,X=(Y/=d)<.05?.05:Y,Y<.2&&(Y=j),Y<.2&&(U=5*Y),.9<Y&&(U=1-10*(Y-.9)),.6<(V=j)&&(V=.8<V?.6-(V-.8):.6+.1*gi((V-.6)/.2*pi)),Z=.5+U/2,gn[a].$fsA.css({transform:lr(R.toFixed(5),O.toFixed(5))+"rotate("+D+"deg) scaleX("+6*X+")",opacity:Z.toFixed(5)}),gn[a].$fsB.css({transform:lr(R.toFixed(5),O.toFixed(5))+"rotate("+D+"deg) scaleX("+3*j+")",opacity:U.toFixed(5)}),gn[a].$fts.css({transform:"rotate("+-D+"deg) "+lr((-z*g).toFixed(5),0)+"scaleX("+4*V+")",opacity:(U*Ne).toFixed(5)}))),e.__lx=t,e.__ly=n),_},Oi=function(e,t,n,o){switch(e){case 0:return n*t;case 1:return gi(pi*t/2)*n;case 2:return(1-vi(pi*t/2))*n;case 3:return(1-vi(pi*t))/2*n;case 4:return gi(2*pi*t)*o;case 5:return gi(pi*t)*o;case 6:return vi(2*pi*t)*o;case 7:return vi(pi*t)*o}},zi=function(){return new Date},Di=function(){if(Hn&&raf(Di),0<Wo.length&&ba(),Yt){var e;Rn=Nn,zn=Ln;for(var t=0;t<Xt.length;t++)switch(e=Xt[t],e.__flipMode){case 1:break;case 2:case 3:cn=Ri(e,en*Mn,tn);break;case 0:case 4:var n=i(e);Ri(e,n.x,n.y,!0),n.end&&(o(t),Ii(),wn&&an&&(ji(Xt[Xt.length-1]),Wi()),qt||Hi(),t--);break;case 5:n=i(e);Ri(e,n.x,n.y,!0),n.end&&(o(t),Ii(),t--)}Yt&&(D&&!We&&Ai(Rn,zn),K($n),J(An),L())}_e&&Kr(),Br(),_n&&st&&_n.OEF()},Hi=function(){wn||Pt.trigger(Sn.__onMove)},ji=function(e,t){var n,o,i,r=e.__side*(1==e.__flipType?-1:1);s(e,4)&&(e.__success=cn&&an?cn==r:0<r*(fe?tn:en),i=Vi(en,tn,rn||an),br<.01&&Zi(en,tn),!i&&!t||("undefined"!==A.type(cn)&&cn===r||"undefined"!==A.type(ln)&&ln<400)&&(e.__success=!0),rn=an=!1,n=e.__sx*(fe?1:(e.__success?-1:1)*e.__side*r),o=e.__sy*(fe?(e.__success?-1:1)*e.__side*r:1),i=fe?Lt:At,t=2,(r=dr(n-e.__ax,o-e.__ay)/i)<(i=e.__sl/i)&&(r=i,t=1),h(e,n,o,He*r,fe?t:0,fe?0:t),sn=!e.__success)},qi=function(){dn=gn[$t].__renderWidth/Bn||0,hn=gn[$t].__renderHeight/In||0,pn=gn[$t+1].__renderWidth/Bn||0,fn=gn[$t+1].__renderHeight/In||0},Wi=function(){0},Yi=function(e){var t,e=Xi(e,!1);"undefined"!==A.type(e)&&(n=e.x,t=e.y);var e=zt+Gn*Jn,n=(n-_t.offset().left)/e-At/2-Rt,e=(t-_t.offset().top)/e-Lt/2-Ot;isNaN(n)||(en=n,tn=e)},Ui=function(e,t,n,o){var i={x:1,y:1},r=At,a=Lt;tt&&(fe?a/=2:r/=2);var s=0;ye&&(s=St.getHeight());var c=Jn;o&&(c=xr());var u=c/xr(),l=xr(),d=zt+Gn*c,h=(z-r*zt)/2*d/zt;z/2<h&&(h=z/2);o=r*d+2*h,c=a*zt,r=(x-c-s)/2,h=r*(zt+Gn*l)/zt;x/2<h&&(h=x/2);var p,l=a*d+s+2*(r+u*(h-r)),u=a*d+s+2*h;return!wn&&mo&&(e?(i.x=i.y=1,0<Jn&&(i.x=i.y=1/Jn)):(p=(n<r?n*h/r:r+c<n?h+a*d+(n-c-r)*h/r:h+a*d*(n-r)/c)-n-((u-s)/2-x/2),p={x:t*(o-z)/z,y:p+=(l-s-x)/2})),"undefined"===A.type(p)&&(p={x:parseInt(t-yt.offset().left,10)*i.x,y:parseInt(n-yt.offset().top,10)*i.y}),p},Xi=function(e,t){var n,o,i,r=e;return"undefined"===A.type(t)&&(t=!0),kn&&"touch"===Tn&&(e=e.originalEvent.changedTouches,r=void 0,"undefined"!==A.type(e[0])&&(r=t?(jn&&"undefined"===A.type(window.TouchEmulator)||(jn=e[0].identifier,qn=e[0]),qn):e[0])),!kn||"touch"===Tn&&"undefined"!==A.type(r)?"undefined"!==A.type(r.pageX)&&"undefined"!==A.type(r.pageY)&&(n=r.pageX,o=r.pageY):"pointer"===Tn&&"undefined"!==A.type(r.clientX)&&"undefined"!==A.type(r.clientY)&&(n=r.clientX,o=r.clientY),"undefined"!==A.type(n)&&(i={x:n,y:o}),i},Vi=function(e,t,n){var o="",n=Oe*(n?1.2:1);return fe?-hn<t&&t<fn&&(t<n-hn?-dn<e&&e<n-dn?o="BL":e<dn&&dn-n<e&&(o="TL"):fn-n<t&&(-pn<e&&e<n-pn?o="BR":e<pn&&pn-n<e&&(o="TR"))):-dn<e&&e<pn&&(e<n-dn?-hn<t&&t<n-hn?o="TL":t<hn&&hn-n<t&&(o="BL"):pn-n<e&&(-fn<t&&t<n-fn?o="TR":t<fn&&fn-n<t&&(o="BR"))),o},Zi=function(e,t){var n="",o=g();return wn&&.01<Jn&&(o=.15),fe?(ze=o*Math.max(hn,fn),tt&&(De=ze),-hn<t&&t<fn&&(t<-hn+ze?yi(e)<dn&&(n="OL"):fn-ze<t?yi(e)<pn&&(n="OR"):yi(t)<De&&(n=t<0?"IL":"IR"))):(ze=o*Math.max(dn,pn),tt&&(De=ze),-dn<e&&e<pn&&(e<-dn+ze?yi(t)<hn&&(n="OL"):pn-ze<e?yi(t)<fn&&(n="OR"):yi(e)<De&&(n=e<0?"IL":"IR"))),n},Qi=function(e,t){if(fe){var n=Gi(t,dn,pn);if(-hn<t&&t<fn&&-n<e&&e<n)return!0}else{n=0;tt||(n=hn);n=Gi(e,n,fn);if(-dn<e&&e<pn&&-n<t&&t<n)return!0}return!1},Gi=function(e,t,n){return e<0?t:n},Ji=function(e){e=A(e.target);return!(e.is("input")||e.is("textarea")||e.is("button"))},Ki=function(e){var t,n=0==gn[e].__BackgroundFiles.length;g(),t=n?"pf-page-container white-bg"+(gn[e].__outer?" pf-outer":"")+(k?" "+k:""):"pf-page-container pf-"+fi[e%2]+"-side"+(gn[e].__outer?" pf-outer":"")+(k?" "+k:"");var o,i,r,a,s,c,u="";return ui&&gn[e].__PageNumber&&0<gn[e].__PageNumber&&((o=A("<div></div>").addClass("pf-page-cursoroverlay")).attr("id","page"+e+"cursoroverlay"),i=gn[e].__renderWidth,c=gn[e].__renderHeight,i&&c&&(r=g(),s=a=!1,tt?1===gn[e].__PageNumber&&1<ne-1?s=!0:1<gn[e].__PageNumber&&gn[e].__PageNumber===ne-1?a=!0:1<gn[e].__PageNumber&&gn[e].__PageNumber<ne-1&&(s=a=!0):1===gn[e].__PageNumber&&1<ne-1?s=!0:1<gn[e].__PageNumber&&gn[e].__PageNumber===ne-1?(ne-1)%2==0&&(a=!0):1<gn[e].__PageNumber&&gn[e].__PageNumber<ne-1&&(ne-1)%2==0&&(gn[e].__PageNumber%2==0?a=!0:s=!0),n=i,c=0,a&&(n-=i*r,c+=i*r),s&&(n-=i*r),o.css({position:"absolute",height:"100%",width:n+"px",top:"0px",left:c+"px"}),u=A("<div></div>").append(o).html())),er(t,"page"+e,[u,er("pf-page-content","page"+e+"content")])},er=function(e,t,n){var o="<div"+(t?' id="'+t+'"':"")+(e?' class="'+e+'"':"")+">";return n&&(A.isArray(n)||(n=[n]),A.each(n,function(e,t){"string"===A.type(t)&&(o+=t)})),o+"</div>"},tr=function(e){return A("#page"+e)},nr=function(e){return A("#page"+e+"content")},or=function(e){return A("#page"+e+"emboss")},ir=function(e){return A("#page"+e+"mask")},rr=function(e){return A("#page"+e+"flipshadowcontainer")},ar=function(e){return A("#page"+e+"flipshadowA")},sr=function(e){return A("#page"+e+"flipshadowB")},cr=function(e){return A("#page"+e+"fliptopshadow")},ur=function(e){return A("#page"+e+"hardtopshadow")},lr=function(e,t){return"translate("+e+"px,"+t+"px) "},dr=function(e,t,n){t=bi(e*e+t*t);return n&&(t*=0<e?-1:1),t},hr=function(e){return e.preventDefault()},pr=function(){A(function(){ei&&(e=window.NavigationArrowsManager.getSize(),F<e&&($=M=e)),yn=bt.html();var n,e=A("#Template-pages");window.flipbookSettings&&(n=A("<div/>"),A.each(window.flipbookSettings.pages,function(e,t){var i=A("<div></div>",{class:"page"}).attr({"data-background-file-desktop":Go+"https://cdn.shopify.com/s/files/1/0439/5597/8399/files/page00"+e+".jpg","data-background-file-mobile":Go+"https://cdn.shopify.com/s/files/1/0439/5597/8399/files/page00"+e+".jpg","data-thumbnail-image":Go+"https://cdn.shopify.com/s/files/1/0439/5597/8399/files/page00"+e+".jpg","data-page-label":"t"+e});A.each(t.links,function(e,t){t=(t.is_internal?A('<a class="pf-hotspot" onclick="goToLabel('+t.link+')"></a>'):A("<a></a>",{class:"pf-hotspot",href:t.link})).css({top:t.top,left:t.left,width:t.width,height:t.height});i.append(t)}),A.each(t.videos,function(e,t){var n=A("<div></div>",{class:"video-container"}),o=A("<div></div>",{class:"video-player","data-id":t.id,"data-thumb":t.thumb,"data-width":parseInt(t.width),"data-height":parseInt(t.height),"data-top":parseInt(t.top),"data-left":parseInt(t.left)});"youtube"===t.host?o.addClass("youtube-player"):"vimeo"===t.host&&o.addClass("vimeo-player"),n.append(o),i.append(n)}),n.append(i)}),e=n),0<(Et=e).length&&bt.html(e.html()),fr(),_t.css("display","block")})},fr=function(){var e=bt.children();if(0==e.length)return[];t(e);e=ee=ne<ee?ne:ee<te?te:ee;$t=sa(e),$t-=$t%2;e=k?" "+k:"";bt.html(er("pageflip-container"+e,"pf-stage",er("pf-book-container"+e,"pf-book",er("pf-book-offset"+e,"pf-bookoffs",er("pf-book-content"+e,"pf-bookc",[Be?er(k||G,"pf-dropshadow"):G,ui?er(void 0,"pf-cursoroverlay"):G])))+er(k||G,"pf-controls"))).css("visibility","visible"),yt=A("#pf-stage"),_t=A("#pf-book"),kt=A("#pf-bookoffs"),wt=A("#pf-bookc"),_t.css("display","none"),Be&&(Tt=A("#pf-dropshadow"),li=li.add(Tt)),Pt=A(document),yt.css("background-color",ft),"string"==typeof gt&&yt.css({"background-image":'url("'+gt+'")',"background-size":"cover"}),yt.css({position:"relative",margin:Pi,"-webkit-perspective-origin-x":"50%","-webkit-perspective-origin-y":"50%"}),j?yt.css({width:"100%",height:"100%"}):(void 0===z?yt.css({width:N?"100%":At+M+$}):yt.css({width:z}),void 0===x?yt.css({height:N?"100%":Lt+I+B}):(yt.css({height:x}),yt.css({overflow:"hidden"}))),mr(),_t.css({top:0,left:0,"z-index":10}),tt?_t.css({position:"absolute"}):_t.css({position:"relative"}),wt.css({"transform-style":"preserve-3d",opacity:1}),kt.css({position:"absolute",top:0,left:0}),0<li.length&&li.css({position:"absolute",top:0,left:0,"z-index":1,"transform-origin":fe?"50% 0%":"0% 50%",opacity:$e}),_e&&jr(),Je&&A(bt).css({"user-select":"none"});e=(Bt=new window.FlipbookUrl({singlePageMode:tt},Sa)).getPageNumberFromUrl();return xt=new window.VideoManager(Sa),Ct=new window.AudioPlayer(mt),ui&&(Mt=new window.FlipbookCursorManager({cursorColor:vt,incDirPath:Go},Sa),Ta("onFlippingSequenceStarted",function(){Bi()}),Ta("onAutoFlippingSequenceEnded",function(){Bi()}),Ta("onManualEnded",function(){Bi()})),mt.pageFlipping&&(Ta("onAutoFlippingSequenceStarted",function(){Ct.playSound("pageFlipping")}),Ta("onManualEnded",function(){Ct.playSound("pageFlipping")})),ye&&Or(xt),Sa.gotoPageNumber(e,!0),window.goToLabel=function(e){Sa.gotoPageLabel("t"+e,!0),Pa(12)},A(document).on("click","a.pf-hotspot",function(e){Pa(12);var t=A(e.target).attr("href");if(!t||/^mailto:/.test(t))return!/^mailto:/.test(t)||(window.top.location=t,!1);e.preventDefault();t=window.open(t,"_blank");t&&t.focus()}),dt&&(It=new FlipbookTooltips({el:"a.pf-hotspot",color:it,background:rt,orientation:"top",text:at,margin:7})),ct||(_n=new FlipbookLinksFading({el:"a.pf-hotspot",background:ut}),st&&(Ta("onAutoFlippingSequenceEnded",function(){Yt||_n.blink()}),Ta("onManualFlippingSequenceEnded",function(){Yt||_n.blink()}))),yr(),wr(),ei&&(Ft=new window.NavigationArrowsManager(Sa,{SinglePageMode:tt},ti)),dt&&Ta("onFlippingSequenceStarted",function(){It.events.hide()}),Ii(),_n&&st&&_n.blink(),_t.on(Sn.__onStart,n),Pt.on(Sn.__onMove,r).bind(Sn.__onEnd,p),wn&&(_t.on("mousedown",n),Pt.on("mousemove",r).bind("mouseup",p)),A(c).bind("resize",gr),(j||N)&&gr(),L(),l(),oe&&Sa.startAutoFlip(!1),Pt.keydown(function(e){switch(e.which){case 37:Sa.gotoPrevPage(),e.preventDefault();break;case 39:Sa.gotoNextPage(),e.preventDefault()}}),c.raf=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||function(e){c.setTimeout(e,Fn/6)},Hn=!0,Di(),bt},gr=function(){if(j&&A(bt).css({width:c.innerWidth,height:"100%"}),j||N){var e,t=Y;t&&jo&&(t=!1,yt.css({height:"100%"})),z=window.innerWidth,x=window.innerHeight,yt.css({width:z+"px",height:x+"px"}),bt.css({width:z+"px",height:x+"px"}),A("body").css({width:z+"px",height:x+"px"}),U&&(e=c.innerHeight-X)<x&&(x=e,t=!1,yt.css({height:e}));var n=0;ye&&!t&&(n=St.getHeight());var o=z-M-$,i=t?Lt:x-I-B,r=V?O:Lt,a=o/(V?R:At),n=(i-=n)/r;if(U&&e<Lt*(a<n?a:n)+I+B&&(t=!1,n=(i=x-I-B)/r,yt.css({height:e})),Z){(fe?Q<=i:Q<=o)?(R=P=wi(o/In),O=S=wi(i/Bn),zt=1):fe?(O=S=Q/2,R=P=o/(zt=i/Q)):(R=P=Q/2,O=S=i/(zt=o/Q)),xi(),mr();for(var s=0;s<gn.length;s++)gn[s].__renderWidth=P,gn[s].__renderHeight=S,gn[s].__maskSize=gn[s].__isCover?jt:Ht;u()}else 1<(zt=q?n<a?a:n:a<n?a:n)&&!W&&(zt=1);a=window.screen.height,n=window.screen.width;ni=!0,ci&&Zo&&("undefined"!==A.type(Jo)&&(ni=!(a<=Jo)),"undefined"!==A.type(Ko)&&(n<=Ko?ni=!1:"undefined"!==A.type(Jo)&&(ni=!0))),l(),Yn=wi((At*zt-At)/2+(o-At*zt)/2),Un=t?(i=Lt*(zt+Gn*Jn),yt.css({height:i+(I+B)}),_i((Lt*(zt+Gn*Jn)-Lt)/2)):_i((Lt*zt-Lt)/2-(Lt*zt-i)/2),Tr(o,i),Pa("onStageResize"),vr(),_e&&ea(!0)}else Pa("onStageResize");Cr(),Sr(),tt&&_t.css({clip:"rect(-"+x/zt+"px "+z/zt+"px "+x/zt+"px 2px)"}).addClass("pf-book-container-singlepage"),Bi()},mr=function(){_t.css({width:At}),_t.css("height",Lt),kt.css({width:At,height:Lt}),0<li.length&&(g(),li.css({width:At,height:Lt}))},vr=function(){var e,t,n,o,i,r,a=zt+Gn*Jn;wn?(e=Yn+ro*Jn+0+M,t=Un+ao*Jn+0+I):(r=At,n=Lt,tt&&(fe?n/=2:r/=2),i=0,ye&&(i=St.getHeight()),o=Jn/xr(),r=xr(),i=0,ye&&!Y&&(i=St.getHeight()),r=Y?Lt:x-I-B,r-=i,xr(),e=Yn-ro*Jn+0+M,t=(x-i)/2-n*a/2-ao*o+0,_t.css({"transform-origin":"50% top"})),ei&&Jn<.01&&(Ft.setPosition(a),L()),_t.css({transform:lr(e,t)+"scale("+a+","+a+")"})},br=0,yr=function(){var o,e;wn&&Ue&&(e=Math.max(window.screen.availWidth,window.screen.availHeight),o=1e3<e?1/1.5:700<e?.4:1/3,e=new Hammer(kt[0]),e.get("pinch").set({enable:!0,threshold:0}),e.get("tap").set({enable:!0,taps:2,posThreshold:100}),e.on("tap",function(e){"video-thumb"!==e.target.className&&"play-button"!==e.target.className&&"vimeo-thumb"!==e.target.className&&(_r(e),(Xn?Sr:Pr)()),e.preventDefault()}),e.on("pinchstart",function(e){_r(e),Zn=!0,Qn=e.scale,e.preventDefault()}),e.on("pinchmove",function(e){var t,n;Qn<e.scale&&(t=e,n=xr(),Jn<n&&("undefined"!==A.type(window.TouchEmulator)&&(t.velocity=.2),Xn=!0,Jn+=Math.abs(t.velocity)*o,yi(n-Jn)<.01&&(Jn=n),Pa(9,$t),kr(),vr())),Qn>e.scale&&(n=e,0<Jn&&("undefined"!==A.type(window.TouchEmulator)&&(n.velocity=.2),(Jn-=Math.abs(n.velocity)*o)<.01&&(Jn=0,Xn=!1),Pa(10,$t),kr(),vr())),Qn=e.scale,e.preventDefault()}),e.on("pinchend",function(e){Zn=!1}))},_r=function(e,t){var n,o,i,r={x:parseInt(e.center.x-yt.offset().left),y:parseInt(e.center.y-yt.offset().top)};o=zt+Gn*Jn,i=((n=e).center.x-_t.offset().left)/o-At/2-Rt,o=(n.center.y-_t.offset().top)/o-Lt/2-Ot,isNaN(i)||(en=i,tn=o),Rr(en,tn,r.x,r.y,t)},wr=function(){po=ho=lo=uo=co=so=ao=ro=eo=Kn=Jn=Gn=0,Vn=mo=Xn=!1},kr=function(){var e=At,t=Lt,n=0;ye&&(n=St.getHeight());var o=e,e=t,t=Jn;eo=wn?(o*=zt+Gn*t,e*=zt+Gn*t,Kn=Math.floor((o-z)/(2*t)),Math.floor((e+n-x)/(2*t))):(o*=t=zt+Gn*xr(),e*=t,Kn=tt?Math.floor((2*o-fo)/xr()):Math.floor((o-z)/(2*xr())),Math.floor((e+n-x)/(2*xr()))),oo=-1*Math.abs(eo)-B,io=Math.abs(eo)+I,no=wn&&Kn<-1*Math.abs(I)||!wn&&Kn<0?to=Kn=0:(to=-1*Kn-M,Kn+$)},Tr=function(e,t){var n=At,o=Lt;tt&&(fe?o/=2:n/=2),ye&&St.getHeight(),go=n,tt||(go=Math.floor(go/2)),Gn=zt<1?1-zt:0,fo=e,go=t,kr(),0==Gn?wr():Xn&&(o=Ar(so,co),ro=so=o.x,ao=co=o.y),Mr(),Ta("onFlippingSequenceStarted",function(){Sr(),Mr(),dt&&It.events.hide()})},Pr=function(){!Xn&&zt<1&&(ei&&Ft.toggle(!1),Xn=!0,wn&&(Vn=!0),Pa(9,$t))},Sr=function(){Xn&&zt<1&&(wn||(ro=so,ao=co),wn&&(Vn=!0),mo=Xn=!1,Pa(10,$t))},xr=function(){return 1},Cr=function(){for(var e,t=E+1,n=xr(),o=1.0001;o<10;o+=1e-4)if(n<.01*(1-Math.pow(o,t))/(1-o)){e=o;break}A.type(e),vo=e},Er=0,Fr=!1,Ir=!1,Br=function(){var e,t=xr(),n="undefined"!==A.type(E),o=n?vo:t/7;wn&&!Vn||(Xn?(.01<yi(t-Jn)||Fr)&&(n?(Ir&&(Er=0,Ir=!1),Fr=!0,Er+=1,e=.01*Math.pow(vo,E-Er+1),Jn+=e):Jn+=(t-Jn)*o,Bi(),yi(t-Jn)<=.01&&(Jn=t,Er=0,Vn=Fr=!1),vr(),Y&&A(c).trigger("resize")):0==Jn&&!Ir||(n?(Ir=!0,Fr&&(Er=0,Fr=!1),e=.01*Math.pow(vo,E-Er+1),Jn-=e,Er+=1):Jn-=Jn*o,Bi(),Jn<=.01&&(ei&&Ft.toggle(!0),Jn=Er=0,Vn=Ir=!1),vr(),Y&&A(c).trigger("resize"))),$r()},Mr=function(){St&&(A("#b-zoomout").css("display",Xn?"":"none"),A("#b-zoomin").css("display",Xn?"none":""),Dr(A("#b-zoomin"),0<Gn&&Ue))},$r=function(){var e;!wn&&mo?so===ro&&co===ao||(ro+=(so-ro)/4,ao+=(co-ao)/4,vr()):(.001<Math.abs(so-ro)||.001<Math.abs(co-ao))&&(kr(),e=Ar(so,co),so=e.x,co=e.y,ro=so,ao=co,vr())},Nr=function(e,t){e=(so=e+=uo)-ho,t=(co=t+=lo)-po;0<Jn&&(e/=Jn,wn?t/=Jn:t*=Jn/xr());t=Ar(so=ho+e,co=po+t);so=t.x,co=t.y},Ar=function(e,t){return wn?(e<to&&("undefined"===A.type(ho)||to-2<=ho)?e=to:no<e&&("undefined"===A.type(ho)||ho<=no+2)&&(e=no),t<oo&&("undefined"===A.type(po)||oo-2<=po)?t=oo:io<t&&("undefined"===A.type(po)||po<=io+2)&&(t=io)):t>Math.abs(lo)&&(t=Math.abs(lo)),{x:e,y:t}},Lr=function(e,t){var n=At,o=Lt;tt&&(fe?o/=2:n/=2);var i=0;ye&&(i=St.getHeight());var r=xr(),r=zt+Gn*r;n=(x-o*zt-i)/2*r/zt;x/2<n&&(n=x/2),uo=ro-e,ho=ro,po=ao,lo=wn?ao-t:-1*((o*r+i+2*n-i)/2-(x-i)/2)},Rr=function(e,t,n,o,i){var r=At,a=Lt;tt&&(fe?a/=2:r/=2);var s=0;ye&&(s=St.getHeight());var c=xr(),u=zt+Gn*c;var l=a*zt,c=(x-l-s)/2,r=c*u/zt;x/2<r&&(r=x/2);e=n-Yn-At/2-e-M-Rt,t=o-Un-Lt/2-t-I-Ot;wn||(e=-e,t=(o<c?o*r/c:c+l<o?r+a*u+(o-l-c)*r/c:r+a*u*(o-c)/l)-o-((a*u+s+2*r-s)/2-(x-s)/2)),t=i||!wn?{x:e,y:t}:Ar(e,t),ro=t.x,so=t.x,ao=t.y,co=t.y},Or=function(e){var t;return window.ControlBar&&(t=A("#pf-controls"),St=new window.ControlBar(t,{zIndex:be||forceTop?12:2,colors:ot,touchControl:wn,touchType:Tn,pagerText:Ye,minPageLimit:te,maxPageLimit:ne,hashControl:Ge,navigationLoop:pe,fullScreenEnabled:re,searchButtonEnabled:ae,printButtonEnabled:se,navigationButtonsEnabled:ce,downloadButtonEnabled:ue,thumbnailsButtonEnabled:le,controlbarTooltipEnabled:lt,controlbarTooltipBackground:pt,controlbarTooltipColor:ht,navbarMinHeight:oi,navbarMinWidth:ii,useNavBarMinSizes:ri,navBarTablet:si,navBarMobile:ai},Sa,e),Ta("onPageChangingComplete",function(){St.updatePage()}),Bt.getPageNumberFromUrl()<2&&St.updatePage(),Ta("onStageResize",St.adjustButtonsToScreenSize)),jo=!1,re&&(qo=document.getElementById("pf-stage"),re=!!(qo.requestFullscreen||qo.mozRequestFullScreen||qo.webkitRequestFullScreen||qo.msRequestFullscreen)),re&&Pt.bind("webkitfullscreenchange mozfullscreenchange fullscreenchange msfullscreenchange",ma),St},e=function(e){var t=zr(e),e="_new"+Math.round(99999*Math.random()).toString(),e=window.open("about:blank",e);e.document.open(),e.document.write(t),e.document.close()},zr=function(e){var t=[];return e&&"left"!==e||"undefined"===A.type(gn[$t])||A.isArray(gn[$t].__BackgroundFiles)&&0<gn[$t].__BackgroundFiles.length&&t.push("<img src="+gn[$t].__BackgroundFiles[0].url+' style="width:100%; height:auto;" />'),e&&"right"!==e||"undefined"===A.type(gn[$t+1])||A.isArray(gn[$t+1].__BackgroundFiles)&&0<gn[$t+1].__BackgroundFiles.length&&t.push("<img src="+gn[$t+1].__BackgroundFiles[0].url+' style="width:100%; height:auto;"/>'),"<html>\n\t<head>\n\t\t<style>\n\t\t\t@media print { img{display:inline} }\n  \t\t\t@media screen { img{display:none} }\n\t\t</style>\n\t\t<script>\n\t\t\tfunction run(){setTimeout('printImg()', 10);}\n\t\t\tfunction printImg(){\n\t\t\t\twindow.print(); window.close();\n\t\t\t}\n\t\t<\/script>\n\t</head>\n\t<body onload='run()'>\n"+t.join("<br />")+"</body>\n</html>"},Dr=function(e,t){t==G&&(t=!0),t?e.removeClass("pf-disabled"):Hr(e)},Hr=function(e){e.addClass("pf-disabled")},jr=function(){var e="pageflip-thumbnails",t="pf-thumbnail-container";_t.after(er(Pe?"pf-hidden":G,e,er(G,t))),ko=A("#"+e),k&&ko.addClass(k),(To=A("#"+t)).css("width",Nt*Se*1.5),bo=[],yo=[],_o=[],wo=[];for(var n,o,i="pf-thumbnail",r="button",a=i+"-"+r,s="#"+i,c=Fo=Eo=0;c<=Nt;c+=2)n=gn[c].__ThumbnailImageUrl?c:-1,o=gn[c+1].__ThumbnailImageUrl?c+1:-1,n<0&&0<=o&&(n=o,o=-1),0<=n&&0<=o?(To.append(er("pf-thumbnail-spread",G,er(a,i+n+r)+er(a,i+o+r))),Wr(n),e=A(s+n+r).position().left,bo.push(e+Se),yo.push(c),_o.push(2*Se),Wr(o),we&&wo.push([n,o])):0<=n&&(To.append(er("pf-thumbnail-page",G,er(a,i+n+r))),Wr(n),e=A(s+n+r).position().left,bo.push(e+Se/2),yo.push(c),_o.push(Se),we&&wo.push([n]));bo.length?(Bo=e+Se*(gn[Nt].__outer?1:2)+$,To.css("width",Bo+20),qr(),Mo=!1,Ao=0,To.bind(Sn.__onStart,Ur),To.bind(Sn.__onEnd,Vr),To.bind(Sn.__onMove,Xr),wn&&(To.bind("mousedown",Ur),To.bind("mouseup",Vr),To.bind("mousemove",Xr)),To.css("height",xe+16),wn||To.bind("mouseleave",Zr),So=Pe,Qr(),Ta("onZoomIn",Gr),Ta("onZoomOut",Gr),Ta("onPageChange",Gr)):(_e=!1,ko.remove()),Pe&&To.css("display","none")},qr=function(e){_e&&(e=ke||e?12:1,ko.css("z-index",e))},Wr=function(e){var t={width:Se,height:xe,"background-size":+Se+"px "+xe+"px",cursor:"pointer"};we||(t.background="url("+gn[e].__ThumbnailImageUrl+")");var n=A("#pf-thumbnail"+e+"button");n.attr("data-page",e).attr("title","Page "+gn[e].__PageNumber),n.css(t),new Hammer(n[0]).on("tap",function(e){var t;So||Yt||(t=A("#"+e.target.id).data().page,Ro=!0,Sa.gotoPage(t,!0),Gr(),Yr(e.srcEvent))})},Yr=function(e){an||rn||(hr(e),e.stopPropagation())},Ur=function(e){kn=!e||!e.type||"mousedown"!==e.type,na(ia(e)),Yr(e)},Xr=function(e){e&&e.type&&"mousemove"===e.type&&kn||((!So||!Te||an||rn||mo?Qr:Jr)(),$o&&(Mo=!0,Eo=ra(No+ia(e))),Yr(e))},Vr=function(e){e&&e.type&&"mouseup"===e.type&&kn||oa()},Zr=function(e){oa(),!So&&Te&&Gr()},Qr=function(e){if(!Te)return!1;var t=zi();return e!=G?e<t-Po:void(Po=t)},Gr=function(){So=!0,ko.addClass("pf-hidden"),setTimeout(function(){So&&(qr(!1),To.css("display","none"))},300)},Jr=function(){Qr(),So=!1,To.css("display","block"),ko.removeClass("pf-hidden"),qr(!0)},Kr=function(){So||(Qr(Te)&&Gr(),Fo!=Eo&&ta())},ea=function(e){if(Ro)Ro=!1;else{var t,n=_i(z/2),o=bo.length-1,i=yo.lastIndexOf($t);if(Ce?(Co=n-bo[0],xo=n-bo[o]):(Co=n-bo[0]-n+_o[0]/2,xo=n-bo[o]+n-_o[o]/2,Co<xo&&(Co=xo=_i(Co+xo/2))),i<0){if(!e)return;t=0}else t=bo[i];Eo=ra(n-t),(!Fo==G||So||e)&&(Fo=Eo+.5)}},ta=function(){if(Fo!=Eo&&(Mo?(Ao=Eo-Lo,Lo=Eo):0!=Ao&&(yi(Ao*=.9)<1?Ao=0:Eo=ra(Eo+Ao)),yi(Eo-(Fo+=(Eo-Fo)/5))<1&&(Fo=Eo,Ao=0),To.css("transform",lr(Fo,0)),we&&!(yi(Fo-Io)<32))){Io=Fo;for(var e=-Se-32,t=z+Se+32,n=wo.length,o=0;o<n&&bo[o]+Fo<e;)o++;for(;o<n&&bo[o]+Fo<t;)wo[o]&&(A.each(wo[o],function(e){var i,r,t=wo[o][e],n=A("#pf-thumbnail"+t+"button");i=n,(r=function(t){var e,n,o;return"undefined"===A.type(gn[t].__ThumbnailImage)?(o=A.Deferred(),i.css("background-image")!=='url("'+Go+'inc/img/loader.gif")'&&d(i,!1),"undefined"!==A.type(gn[t].__ThumbnailImageUrl)&&(e=gn[t].__ThumbnailImageUrl,(n=new Image).onload=o.resolve.bind(o,n),n.src=e,n.loadingPromise=o,n.onerror=function(){setTimeout(function(){r(t).done(function(e){gn[t].__ThumbnailImage=e,o.resolve(e)})},500)})):("resolved"!==gn[t].__ThumbnailImage.loadingPromise.state()&&i.css("background-image")!=='url("'+Go+'inc/img/loader.gif")'&&d(i,!1),o=gn[t].__ThumbnailImage.loadingPromise),o})(t).done(function(){n.css({"background-image":'url("'+gn[t].__ThumbnailImageUrl+'")',"background-size":"auto"})})}),wo[o]=null),o++}},na=function(e){Mo=!($o=!0),No=(Lo=Eo)-e},oa=function(){Mo=$o=!1},ia=function(e){e=Xi(e,!1);return"undefined"!==A.type(e)?e.x:void 0},ra=function(e){return e<xo?e=xo:Co<e&&(e=Co),e},aa=function(e){m(ge&&!e?te:ne,!0)},sa=function(e){return 0<e?Oo.lastIndexOf(parseInt(e)):-1},ca=function(e){return zo.lastIndexOf(e.toLowerCase())},ua=function(e){return Do.lastIndexOf(e)},la=function(){Oo=[],zo=[],Do=[];for(var e=0;e<=Nt;e++)Oo[e]=gn[e].__PageNumber,zo[e]=gn[e].__PageName?gn[e].__PageName.toLowerCase():G,Do[e]=gn[e].__PageLabel},da=function(e,t){e==G&&(e=0),t==G&&(t=Nt),(te=ge?Nt-t:e)<0&&(te=0),Nt<(ne=ge?Nt-e:t)&&(ne=Nt),te-=te%2,ne+=1-ne%2},ha=function(){return!Xn&&!Ve&&Jn<.01},pa=function(){nn&&(nn=!1,c.clearTimeout(Ho))},fa=function(){if(!b(!1)){if(!he)return void Sa.stopAutoFlip();v()}_()},ma=function(e){re&&(A("#b-fullscreen").css("display",jo?"none":""),A("#b-fullscreenoff").css("display",jo?"":"none")),gr()},va=function(e,t){t={__delay:e,__pnAdd:t,__startTime:G};Wo.push(t)},ba=function(){var e=zi(),t=Wo[0];t.__startTime||(t.__startTime=zi()),t.__delay<e-t.__startTime&&f(t.__pnAdd<0?-1:1,0,yi(t.__pnAdd))&&Wo.splice(0,1)},ya=function(e){Xo=e,Vo=k||"Untitled",Uo=[],Yo=zi(),wa()},_a=function(){var e=zi()-Yo,e=Math.floor(e/1e3);switch(Xo){case 0:break;case 1:ga("send","event","Flipbooks","Book time",Vo,e)}},wa=function(){switch(Xo){case 0:break;case 1:ga("send","event","Flipbooks","Book Opened",Vo,0)}},ka=["onFlip","onFlipEnd","onTop","onTopEnd","onLoad","onUnload","onRemove","onHide","onShow","onZoomIn","onZoomOut","onPageChange","onLinkClicked","onFlippingSequenceStarted","onAutoFlippingSequenceStarted","onAutoFlippingSequenceEnded","onManualFlippingSequenceEnded","onManualEnded","onPageChangingComplete","onStageResize"],Ta=function(e,n){var t;A.isArray(e)?A.each(e,function(e,t){Ta(t,n)}):("function"==typeof di[e]&&(t=di[e],di[e]=[t]),A.isArray(di[e])?di[e].push(n):di[e]=[n])},Pa=function(e,n){var t;"number"==typeof e&&void 0!==ka[e]?t=ka[e]:"string"==typeof e&&-1<ka.indexOf(e)&&(t=e),"undefined"!==t&&(di&&("function"==typeof(e=di[t])?e(n):A.isArray(e)&&A.each(e,function(e,t){"function"==typeof t&&t(n)})),Xo&&("onTop"===t?(function(e){switch(Xo){case 0:break;case 1:ga("send","event","Flipbooks","Page "+e+" View",Vo,0)}}(n),Uo[n]=zi()):"onTopEnd"===t&&function(e){var t=zi()-Uo[e],t=Math.floor(t/1e3);switch(Xo){case 0:break;case 1:ga("send","event","Flipbooks","Page "+e,Vo,t)}}(n)))},Sa={gotoPage:function(e,t){return y()?(pa(),m(e,t)):void 0},gotoPageNumber:function(e,t){return y()?(pa(),t=t,void m(sa(e),t)):void 0},gotoPageName:function(e,t){return y()?(pa(),t=t,void m(ca(e),t)):void 0},gotoPageLabel:function(e,t){return y()?(pa(),t=t,void m(ua(e),t)):void 0},gotoFirstPage:function(e){y()&&(pa(),v(e))},gotoPrevPage:function(e){y()&&(pa(),e=e,pe&&(!ge||e?$t<te+1:ne-2<$t)?aa(e):f(ge&&!e?1:-1,tt&&!ge?1:0,2))},gotoNextPage:function(e){y()&&(pa(),b(e))},gotoLastPage:function(e){y()&&(pa(),aa(e))},startAutoFlip:function(e){y()&&ie&&((e=e)==G&&(e=!0),nn||(nn=!0,(e?fa:_)()),w())},stopAutoFlip:function(){nn&&(pa(),w())},toggleAutoFlip:function(){nn?Sa.stopAutoFlip():Sa.startAutoFlip()},closePageflip:function(e){var t;t=e,!Wn&&bt&&(Wn=!0,wt.css("opacity",0),St&&(St.css("opacity",0),St.unbind()),_e&&Gr(),c.setTimeout(function(){Hn=!1},900),c.setTimeout(function(){Yt=!1,pa(),k=G,bt.empty(),bt.html(yn).attr("style",null),bt=G,Si=85,Pt.unbind(Sn.__onMove,r).unbind(Sn.__onEnd,p),Pt.unbind("webkitfullscreenchange mozfullscreenchange msfullscreenchange fullscreenchange",ma),A(c).unbind("resize",gr),Wn=!1,t&&t()},1e3),Qe&&_a())},getID:function(){return k},getPN:function(){return $t},getPageNumber:function(e){return gn[e||$t].__PageNumber},getPageName:function(e){return gn[e||$t].__PageName},getPageLabel:function(e){return gn[e||$t].__PageLabel},showThumbnails:function(){_e&&(So?Jr:Gr)()},hideThumbnails:function(){_e&&Gr()},zoomIn:function(){Ue&&(Pr(),Mr())},zoomOut:function(){Sr(),Mr()},toggleZoom:function(){Xn?Sa.zoomOut():Sa.zoomIn()},mouseControl:function(e){Ze=e},pageLimit:function(e,t){da(e,t)},data:function(e,t){return e=e,(t=t)?void(gn[e].__Data=t):gn[e].__Data},enterFullScreen:function(){return qo.requestFullscreen?qo.requestFullscreen():qo.mozRequestFullScreen?qo.mozRequestFullScreen():qo.webkitRequestFullScreen?qo.webkitRequestFullScreen():qo.msRequestFullscreen&&qo.msRequestFullscreen(),void(jo=!0)},exitFullScreen:function(){return document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),void(jo=!1)},addPage:function(e,t,n){!function(e,t){0!=(t=t||$t)||me||t++;for(var n,o,i,r,a=0;a<e.length;a++)(r="cover"==(n=(o=A(e[a])).attr("class")))&&0,i="outerpage"==n,(r||"page"==n||i)&&(r=Fi(o,i,r,i||r,a),Nt++,gn.splice(t,0,r),0);Ci(),da(),la(),u()}(A(e),t)},reloadPage:function(e){},removePage:function(e,t,n){t=(t=t)||1,0!=(e=(e=e)||$t)||me||e++,gn.splice(e,t),Nt-=t,Ci(),da(),la(),Nt<$t&&($t=Nt-Nt%2),$t<0&&($t=0),u()},printLeft:e.bind(void 0,"left"),printRight:e.bind(void 0,"right"),printBoth:e,download:function(){if(nt)if(window.ActiveXObject)window.ActiveXObject&&document.execCommand&&((n=window.open(nt,"_blank")).document.close(),n.document.execCommand("SaveAs",!0,nt),n.close());else try{var e=document.createElement("a");e.href=nt,e.target="_blank",e.download="pdf"===T.split(".").pop()?T:T+".pdf";var t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});e.dispatchEvent(t),(window.URL||window.webkitURL).revokeObjectURL(e.href)}catch(e){var n;"download"in document.createElement("a")?((n=A('<a download="flipbook">s</a>')).attr("href",nt),n.attr("target","_blank"),n.css("display","none"),A("body").append(n),n.click(function(){A(this).remove()}),n[0].click()):window.open(nt)}},getIsFullScreen:function(){return jo},getIsThumbnailMode:function(){return _e&&!So},getCurrentPageNumber:function(){return $t},getFirstPageNumber:function(){return te},getLastPageNumber:function(){return ne},getPageInfoList:function(){return gn},updateHash:function(e){Ge&&(Wo&&0!==Wo.length||Xt&&0!==Xt.length||Bt.updateUrl(e))},addEventHandler:Ta,getInstance:function(){return bt},getPagesTemplate:function(){return Et},getIsTouchDevice:function(){return"undefined"!==A.type(Tn)},getIsMobileDevice:function(){return Zo||Qo},getIsPhone:function(){return Zo},getIsTablet:function(){return Qo},getBookWidth:function(){return At},getBookHeight:function(){return Lt},getBookScale:function(){return zt},getStageWidth:function(){return z},getStageHeight:function(){return x},getMargin:function(){return M},getControlbarHeight:function(){var e=0;return ye&&(e=St.getHeight()),e},getEndPN:function(){return Jt},getClickEventName:function(){return Pn},getPfEvent:function(){return Sn}};A.extend(A.fn,{pageflipInit:function(e,t){return bt!=G?bt:(wn=!0,Pn=(window.PointerEvent||window.navigator.pointerEnabled)&&window.navigator.msMaxTouchPoints?(Sn={__onStart:"pointerdown",__onMove:"pointermove",__onEnd:"pointerup"},Tn="pointer","pointerup"):(window.MSPointerEvent||window.navigator.msPointerEnabled)&&window.navigator.msMaxTouchPoints?(Sn={__onStart:"MSPointerDown",__onMove:"MSPointerMove",__onEnd:"MSPointerUp"},Tn="pointer","MSPointerUp"):"ontouchstart"in c||window.navigator.msMaxTouchPoints||"TouchEmulator"in window?(Sn={__onStart:"touchstart",__onMove:"touchmove",__onEnd:"touchend"},Tn="touch","touchend"):(wn=!1,Sn={__onStart:"mousedown",__onMove:"mousemove",__onEnd:"mouseup"},"click"),k="undefined"===A.type(t)?"Flipbook":t,bt=this,Wt="WebKitCSSMatrix"in c||"MozPerspective"in document.body.style,function(e){"string"===A.type(e.IncDirPath)&&(Go=e.IncDirPath),e.IDs,e.DefaultID,T=e.Title||"flipbook",P=e.PageWidth||300,S=e.PageHeight||400,R=e.CoverWidth||P,O=e.CoverHeight||S,D="undefined"!==A.type(e.HardCover)&&e.HardCover,H=e.HardPages||!1,z=e.StageWidth,x=e.StageHeight,E="undefined"===A.type(e.DoubleTapZoomSpeed)?18:e.DoubleTapZoomSpeed,fe=e.VerticalMode||!1,Ke=e.SinglePageDesktopMode||!1,et="undefined"===A.type(e.SinglePageMobileMode)||e.SinglePageMobileMode,ge=e.RightToLeft&&!fe||!1,N=e.AutoScale||!0,j=e.FullScale||!0,q=e.FillScale||!1,W=e.UpScale||!0,e.CenterSinglePage="undefined"===A.type(e.CenterSinglePage)||e.CenterSinglePage,Y="undefined"!==A.type(e.AutoStageHeight)&&Boolean(e.AutoStageHeight),ye="undefined"===A.type(e.ControlbarEnabled)||Boolean(e.ControlbarEnabled),ae="undefined"===A.type(e.SearchButtonEnabled)||Boolean(e.SearchButtonEnabled),se="undefined"!==A.type(e.PrintButtonEnabled)&&Boolean(e.PrintButtonEnabled),le="undefined"===A.type(e.ThumbnailsButtonEnabled)||Boolean(e.ThumbnailsButtonEnabled),Zo=!(!/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t=userAgent)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))),Qo=Boolean(userAgent.match(/iPad|Android|(?=.*\bWindows\b)(?=.*\bARM\b)/i));var t=32;Zo||Qo?(H=H&&!1,(tt=et)&&(t=10),"boolean"===A.type(e.ControlbarEnabledMobile)&&(ye=e.ControlbarEnabledMobile)):tt=Ke,F="undefined"===A.type(e.Margin)?t:e.Margin,I="undefined"===A.type(e.MarginTop)?F:e.MarginTop,B="undefined"===A.type(e.MarginBottom)?F:e.MarginBottom,M="undefined"===A.type(e.MarginLeft)?F:e.MarginLeft,$="undefined"===A.type(e.MarginRight)?F:e.MarginRight,C=!tt&&Boolean(e.CenterSinglePage),V=!!tt||(e.ScaleToSinglePage||!1),me=!tt&&e.AlwaysOpened||!1,mt={},"undefined"!==A.type(e.FlippingSoundVolume)&&0<e.FlippingSoundVolume&&(mt.pageFlipping={},mt.pageFlipping.src="undefined"!==A.type(e.FlippingSoundSrc)?e.FlippingSoundSrc:Go+"https://cdn.shopify.com/s/files/1/0439/5597/8399/files/flip.mp3",mt.pageFlipping.volume="undefined"!==A.type(e.FlippingSoundVolume)?e.FlippingSoundVolume:0),(j||q||W)&&(Y=!1),U=e.AutoMaxHeight||!1,X=e.MaxHeightOffset||0,Z=e.FlexibleContent||!1,t=e.FlexibleContentMinWidth,Q=t==G?768:t,t=e.StartPage,ee=t==G?1:t,te=e.MinPageLimit||0,ee<te&&(ee=te),ne=e.MaxPageLimit,oe=e.StartAutoFlip||!1,t=e.AutoFlipEnabled,ie=t==G||t,re="undefined"===A.type(e.FullScreenEnabled)||Boolean(e.FullScreenEnabled),ft="undefined"===A.type(e.BackgroundColor)?"#d4d4d4":e.BackgroundColor,gt="undefined"===A.type(e.BackgroundImage)?null:Go+e.BackgroundImage,de=e.AutoFlipInterval||2e3,t=e.AutoFlipLoop,he=t!=G&&t,pe=e.NavigationLoop||!1,t=e.Preflip,ve=t==G||t,be=e.ControlbarToFront||!0,_e="undefined"===A.type(e.Thumbnails)||Boolean(e.Thumbnails),t=e.ThumbnailsLazyLoad,we=t==G||t,t=e.ThumbnailsToFront,ke=t!=G&&t,Te=e.ThumbnailsAutoHide||0,Pe=e.ThumbnailsHidden||!0,Se=e.ThumbnailWidth||60,xe=e.ThumbnailHeight||80,Ce=e.ThumbnailAlwaysCentered||!1,_e||(le=!1),Ee=e.Transparency||!1,t=e.PageCache,Fe=t==G?5:t,Ie=e.NoFlipShadow||!1,t=e.DropShadow,Be=t==G||t,t=e.Emboss,Me=t==G||t,t=e.DropShadowOpacity,$e=t==G?.2:t,t=e.FlipTopShadowOpacity,Ne=t==G?.2:t,t=e.FlipShadowOpacity,Ae=t==G?.2:t,t=e.EmbossOpacity,Re=t==G?.2:t,t=e.HardFlipShadowOpacity,Le=t==G?.3:t,Oe=e.PreflipArea||128,ze=e.SecondaryDragArea||64,De=tt?Oe:e.InsideDragArea||0,He=e.FlipDuration||400,je=e.BookOffsetX||0,qe=e.BookOffsetY||0,tt&&(fe?qe-=O/2:ge&&!tt?je+=R/2:je-=R/2),We=!Wt||(e.PerformanceAware||!1),Ye=e.PagerText||"#~#–#",t=e.PagerSkip,t=e.HashControl,Ge=t==G||t,t=e.ZoomEnabled,Ue=t==G||t,Xe=e.ClickZoom||!0,t=e.ZoomFlip,Ve=t!=G&&t,t=e.PinchZoom,t=e.MouseControl,Ze=t==G||t,Qe=e.GoogleAnalytics,Je=e.DisableSelection||!0,nt=void 0!==e.DownloadUrl?e.DownloadUrl:null,ue=void 0!==e.DownloadButtonEnabled&&e.DownloadButtonEnabled,nt||(ue=!1),(dt="undefined"!==A.type(e.LinksTooltipEnabled)&&e.LinksTooltipEnabled)&&"undefined"!==A.type(Tn)&&(dt=!1),it=e.LinksTooltipColor||"#FFFFFF",rt=e.LinksTooltipBackground||"#333333",at=e.LinksTooltipText||"Click to open this link",st=void 0!==e.LinkFading&&e.LinkFading,ct=void 0!==e.LinkShowPermanently&&e.LinkShowPermanently,ut=e.LinkBackground||"#0000ff",lt=void 0!==e.ControlbarTooltipEnabled&&e.ControlbarTooltipEnabled,1==("undefined"!==A.type(e.InvisibleLinks)&&e.InvisibleLinks)&&(ut="transparent"),ht=e.ControlbarTooltipColor||"#FFFFFF",pt=e.ControlbarTooltipBackground||"#000000","undefined"!==A.type(e.MobileImageMaxHeight)&&(Jo=e.MobileImageMaxHeight),"undefined"!==A.type(e.MobileImageMaxWidth)&&(Ko=e.MobileImageMaxWidth),ei="undefined"!==A.type(e.NavigationArrowsEnabled)&&e.NavigationArrowsEnabled,ce="undefined"!==A.type(e.NavigationButtonsEnabled)?e.NavigationButtonsEnabled:!ei,ti.color="undefined"!==A.type(e.NavigationArrowsColor)?e.NavigationArrowsColor:"#b5b5b5",ti.hoverColor="undefined"!==A.type(e.NavigationArrowsHover)?e.NavigationArrowsHover:"#ffffff",ot={},"undefined"!==A.type(e.ControlbarColor1)&&(ot.color1=e.ControlbarColor1),"undefined"!==A.type(e.ControlbarColor2)&&(ot.color2=e.ControlbarColor2),"undefined"!==A.type(e.ControlbarBackground)&&(ot.background=e.ControlbarBackground),"undefined"!==A.type(e.ControlbarPagerText)&&(ot.pagerText=e.ControlbarPagerText),"undefined"!==A.type(e.ControlbarTooltipBackground1)&&(ot.tooltipBackground1=e.ControlbarTooltipBackground1),"undefined"!==A.type(e.ControlbarTooltipBackground2)&&(ot.tooltipBackground2=e.ControlbarTooltipBackground2),"undefined"!==A.type(e.ControlbarPrint1)&&(ot.print1=e.ControlbarPrint1),"undefined"!==A.type(e.ControlbarPrint2)&&(ot.print2=e.ControlbarPrint2),"undefined"!==A.type(e.ControlbarPrint3)&&(ot.print3=e.ControlbarPrint3),"undefined"!==A.type(e.ControlbarSearch1)&&(ot.search1=e.ControlbarSearch1),"undefined"!==A.type(e.ControlbarSearchScreenBackground)&&(ot.searchScreenBackground=e.ControlbarSearchScreenBackground),"undefined"!==A.type(e.ControlbarSearchInputBackground)&&(ot.searchInputBackground=e.ControlbarSearchInputBackground),"undefined"!==A.type(e.ControlbarSearchInputText)&&(ot.searchInputText=e.ControlbarSearchInputText),"undefined"!==A.type(e.ControlbarSearchResultsBackground)&&(ot.searchResultsBackground=e.ControlbarSearchResultsBackground),"undefined"!==A.type(e.ControlbarSearchResultsSeparator)&&(ot.searchResultsSeparator=e.ControlbarSearchResultsSeparator),"undefined"!==A.type(e.ControlbarSearchResultsText)&&(ot.searchResultsText=e.ControlbarSearchResultsText),"undefined"!==A.type(e.ZoomCursorColor)&&(vt=e.ZoomCursorColor),"undefined"!==A.type(e.ZoomCursorEnabled)&&(ui=e.ZoomCursorEnabled),"undefined"!==A.type(e.NavbarMinHeight)&&(oi=e.NavbarMinHeight),"undefined"!==A.type(e.NavbarMinWidth)&&(ii=e.NavbarMinWidth),"undefined"!==A.type(e.UseNavBarMinSizes)&&(ri=e.UseNavBarMinSizes),"undefined"!==A.type(e.NavBarMobile)&&(ai=e.NavBarMobile,si=ai),"undefined"!==A.type(e.ChangeQualityOnMobile)&&(ci=e.ChangeQualityOnMobile)}(e),Qe&&ya(1),Rt=Ot=0,zt=1,Fn=10+(Cn=(En=10+(Si*=2))/2),xn=En/pi,xi(),Yt=!1,Xt=[],Wo=[],sn=an=rn=on=nn=!(Kt=4),dn=hn=pn=fn=0,$n=Nn=An=Ln=Rn=On=zn=Dn=G,pr(),this)},pageflip:function(e,t){return e==G?Sa:bt?Sa[e](t):[]}})})($,window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function u(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function l(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.id,e=t.url,t=n||e;if(!t)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(e=t,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return"https://vimeo.com/".concat(t);if(u(t))return t.replace("http:","https:");if(n)throw new TypeError("“".concat(n,"” is not a valid video id."));throw new TypeError("“".concat(t,"” is not a vimeo.com url."))}function t(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(_(this,"_id","_WeakMap_"+n()+"."+n()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function o(e,t){if(!i(e)||!y.call(e,"_id"))throw new TypeError(t+" method called on incompatible receiver "+typeof e)}function n(){return Math.random().toString().substring(2)}function i(e){return Object(e)===e}function a(e,t,n){var o=C.get(e.element)||{};t in o||(o[t]=[]),o[t].push(n),C.set(e.element,o)}function d(e,t){return(C.get(e.element)||{})[t]||[]}function h(e,t,n){var o=C.get(e.element)||{};if(!o[t])return!0;if(!n)return o[t]=[],C.set(e.element,o),!0;n=o[t].indexOf(n);return-1!==n&&o[t].splice(n,1),C.set(e.element,o),o[t]&&0===o[t].length}function p(o,e){e=1<arguments.length&&void 0!==e?e:{};return E.reduce(function(e,t){var n=o.getAttribute("data-vimeo-".concat(t));return!n&&""!==n||(e[t]=""===n?1:n),e},e)}function f(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");e=document.createElement("div");return e.innerHTML=n,t.appendChild(e.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function g(r,e,t){var a=1<arguments.length&&void 0!==e?e:{},s=2<arguments.length?t:void 0;return new Promise(function(t,n){if(!u(r))throw new TypeError("“".concat(r,"” is not a vimeo.com url."));var e,o="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(r));for(e in a)a.hasOwnProperty(e)&&(o+="&".concat(e,"=").concat(encodeURIComponent(a[e])));var i=new("XDomainRequest"in window?XDomainRequest:XMLHttpRequest);i.open("GET",o,!0),i.onload=function(){if(404!==i.status)if(403!==i.status)try{var e=JSON.parse(i.responseText);if(403===e.domain_status_code)return f(e,s),void n(new Error("“".concat(r,"” is not embeddable.")));t(e)}catch(e){n(e)}else n(new Error("“".concat(r,"” is not embeddable.")));else n(new Error("“".concat(r,"” was not found.")))},i.onerror=function(){var e=i.status?" (".concat(i.status,")"):"";n(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},i.send()})}function m(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function s(e,t,n){e.element.contentWindow&&e.element.contentWindow.postMessage&&(t={method:t},void 0!==n&&(t.value=n),8<=(n=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1")))&&n<10&&(t=JSON.stringify(t)),e.element.contentWindow.postMessage(t,e.origin))}var c="undefined"!=typeof global&&"[object global]"==={}.toString.call(global),v=void 0!==Array.prototype.indexOf,b="undefined"!=typeof window&&void 0!==window.postMessage;if(!(c||v&&b))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var y,_,w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(S="undefined"!=typeof self?self:"undefined"!=typeof window?window:w).WeakMap||(y=Object.prototype.hasOwnProperty,_=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n},S.WeakMap=(_(t.prototype,"delete",function(e){if(o(this,"delete"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))}),_(t.prototype,"get",function(e){if(o(this,"get"),i(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}}),_(t.prototype,"has",function(e){if(o(this,"has"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)}),_(t.prototype,"set",function(e,t){if(o(this,"set"),!i(e))throw new TypeError("Invalid value used as weak map key");var n=e[this._id];return n&&n[0]===e?n[1]=t:_(e,this._id,[e,t]),this}),_(t,"_polyfill",!0),t));var k,T,P,S,x=(v=M={exports:{}},b=function(){function n(e,t){this.fn=e,this.self=t,this.next=void 0}function i(e,t){h.add(e,t),d=d||v(h.drain)}function r(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function a(){for(var e=0;e<this.chain.length;e++)!function(e,t,n){var o,i;try{!1===t?n.reject(e.msg):(o=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=r(o))?i.call(o,n.resolve,n.reject):n.resolve(o)}catch(e){n.reject(e)}}(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function s(e){var n,o=this;if(!o.triggered){o.triggered=!0,o.def&&(o=o.def);try{(n=r(e))?i(function(){var t=new l(o);try{n.call(i,function(){s.apply(t,arguments)},function(){c.apply(t,arguments)})}catch(e){c.call(t,e)}}):(o.msg=e,o.state=1,0<o.chain.length&&i(a,o))}catch(e){c.call(new l(o),e)}}}function c(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,0<t.chain.length&&i(a,t))}function u(e,n,o,i){for(var t=0;t<n.length;t++)!function(t){e.resolve(n[t]).then(function(e){o(t,e)},i)}(t)}function l(e){this.def=e,this.triggered=!1}function t(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function e(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var o=new t(this);this.then=function(e,t){var n={success:"function"!=typeof e||e,failure:"function"==typeof t&&t};return n.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t}),o.chain.push(n),0!==o.state&&i(a,o),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){s.call(o,e)},function(e){c.call(o,e)})}catch(e){c.call(o,e)}}var o,d,h,p,f,g,m=Object.prototype.toString,v="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),o=function(e,t,n,o){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==o})}}catch(m){o=function(e,t,n){return e[t]=n,e}}var b=o({},"constructor",e,!(h={add:function(e,t){g=new n(e,t),f?f.next=g:p=g,f=g,g=void 0},drain:function(){var e=p;for(p=f=d=void 0;e;)e.fn.call(e.self),e=e.next}}));return o(e.prototype=b,"__NPO__",0,!1),o(e,"resolve",function(n){return n&&"object"==typeof n&&1===n.__NPO__?n:new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");e(n)})}),o(e,"reject",function(n){return new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");t(n)})}),o(e,"all",function(t){var a=this;return"[object Array]"!=m.call(t)?a.reject(TypeError("Not an array")):0===t.length?a.resolve([]):new a(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");var o=t.length,i=Array(o),r=0;u(a,t,function(e,t){i[e]=t,++r===o&&n(i)},e)})}),o(e,"race",function(t){var o=this;return"[object Array]"!=m.call(t)?o.reject(TypeError("Not an array")):new o(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");u(o,t,function(e,t){n(t)},e)})}),e},(S=w)[w="Promise"]=S[w]||b(),v.exports&&(v.exports=S[w]),M.exports),C=new WeakMap,E=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"],F=new WeakMap,I=new WeakMap,B={},M=(e($.prototype,[{key:"callMethod",value:function(n,e){var o=this,i=1<arguments.length&&void 0!==e?e:{};return new x(function(e,t){return o.ready().then(function(){a(o,n,{resolve:e,reject:t}),s(o,n,i)}).catch(t)})}},{key:"get",value:function(n){var o=this;return new x(function(e,t){return n=r(n,"get"),o.ready().then(function(){a(o,n,{resolve:e,reject:t}),s(o,n)}).catch(t)})}},{key:"set",value:function(n,o){var i=this;return new x(function(e,t){if(n=r(n,"set"),null==o)throw new TypeError("There must be a value to set.");return i.ready().then(function(){a(i,n,{resolve:e,reject:t}),s(i,n,o)}).catch(t)})}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===d(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch(function(){}),a(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");h(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch(function(e){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=I.get(this)||new x(function(e,t){t(new Error("Unknown player. Probably unloaded."))});return x.resolve(e)}},{key:"addCuePoint",value:function(e,t){t=1<arguments.length&&void 0!==t?t:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return B.isEnabled?B.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return B.isEnabled?B.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return B.isEnabled?x.resolve(B.isFullscreen):this.get("fullscreen")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new x(function(e){I.delete(t),F.delete(t.element),t._originalElement&&(F.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&"IFRAME"===t.element.nodeName&&t.element.parentNode&&t.element.parentNode.removeChild(t.element),t._window.removeEventListener("message",t._onMessage),e()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}]),$);function $(i){var e,c=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e){if(!(e instanceof $))throw new TypeError("Cannot call a class as a function")}(this),window.jQuery&&i instanceof jQuery&&(1<i.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),i=i[0]),"undefined"!=typeof document&&"string"==typeof i&&(i=document.getElementById(i)),e=i,!Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"===i.nodeName||(o=i.querySelector("iframe"))&&(i=o),"IFRAME"===i.nodeName&&!u(i.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(F.has(i))return F.get(i);this._window=i.ownerDocument.defaultView,this.element=i,this.origin="*";var n,o=new x(function(a,s){var e;c._onMessage=function(e){if(u(e.origin)&&c.element.contentWindow===e.source){"*"===c.origin&&(c.origin=e.origin);var t=m(e.data);if(t&&"error"===t.event&&t.data&&"ready"===t.data.method){var n=new Error(t.data.message);return n.name=t.data.name,void s(n)}e=t&&"ready"===t.event,n=t&&"ping"===t.method;if(e||n)return c.element.setAttribute("data-ready","true"),void a();o=c,n=[],(i=m(i=t)).event?("error"===i.event&&d(o,i.data.method).forEach(function(e){var t=new Error(i.data.message);t.name=i.data.name,e.reject(t),h(o,i.data.method,e)}),n=d(o,"event:".concat(i.event)),r=i.data):!i.method||(t=function(e,t){var n=d(e,t);if(n.length<1)return!1;n=n.shift();return h(e,t,n),n}(o,i.method))&&(n.push(t),r=i.value),n.forEach(function(e){try{if("function"==typeof e)return void e.call(o,r);e.resolve(r)}catch(e){}})}var o,i,r},c._window.addEventListener("message",c._onMessage),"IFRAME"!==c.element.nodeName&&g(l(e=p(i,t)),e,i).then(function(e){var t,n,o=f(e,i);return c.element=o,t=c._originalElement=i,n=o,o=C.get(t),C.set(n,o),C.delete(t),F.set(c.element,c),e}).catch(s)});return I.set(this,o),F.set(this.element,this),"IFRAME"===this.element.nodeName&&s(this,"ping"),B.isEnabled&&(n=function(){return B.exit()},B.on("fullscreenchange",function(){(B.isFullscreen?a:h)(c,"event:exitFullscreen",n),c.ready().then(function(){s(c,"fullscreenchange",B.isFullscreen)})})),this}return c||(k=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=t.length,i={};n<o;n++)if((e=t[n])&&e[1]in document){for(n=0;n<e.length;n++)i[t[0][n]]=e[n];return i}return!1}(),T={fullscreenchange:k.fullscreenchange,fullscreenerror:k.fullscreenerror},P={request:function(i){return new Promise(function(e,t){function n(){P.off("fullscreenchange",n),e()}P.on("fullscreenchange",n);var o=(i=i||document.documentElement)[k.requestFullscreen]();o instanceof Promise&&o.then(n).catch(t)})},exit:function(){return new Promise(function(t,e){var n,o;P.isFullscreen?(n=function e(){P.off("fullscreenchange",e),t()},P.on("fullscreenchange",n),(o=document[k.exitFullscreen]())instanceof Promise&&o.then(n).catch(e)):t()})},on:function(e,t){e=T[e];e&&document.addEventListener(e,t)},off:function(e,t){e=T[e];e&&document.removeEventListener(e,t)}},Object.defineProperties(P,{isFullscreen:{get:function(){return Boolean(document[k.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[k.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[k.fullscreenEnabled])}}}),B=P,function(){function n(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))}var e=document;[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")).forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=p(t);g(l(e),e,t).then(function(e){return f(e,t)}).catch(n)}catch(e){n(e)}})}(),function(){var o=document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",function(e){if(u(e.origin)&&e.data&&"spacechange"===e.data.event)for(var t=o.querySelectorAll("iframe"),n=0;n<t.length;n++)if(t[n].contentWindow===e.source){t[n].parentElement.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}}))}()),M}),window.YT||(YT={loading:0,loaded:0}),window.YTConfig||(YTConfig={host:"http://www.youtube.com"}),YT.loading||(YT.loading=1,function(){var t=[];YT.ready=function(e){YT.loaded?e():t.push(e)},window.onYTReady=function(){YT.loaded=1;for(var e=0;e<t.length;e++)try{t[e]()}catch(e){}},YT.setConfig=function(e){for(var t in e)e.hasOwnProperty(t)&&(YTConfig[t]=e[t])};var e=document.createElement("script");e.type="text/javascript",e.id="www-widgetapi-script",e.src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vfl_iHi5F/www-widgetapi.js",e.async=!0;var n=document.currentScript;!n||(o=n.nonce||n.getAttribute("nonce"))&&e.setAttribute("nonce",o);var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}())}catch(e){window.initFlipbook=function(){},$(function(){var a,e,o,i,r,s,c,u,d,h,p,f,l,g,m,v,b,y,_,t,w=$(document),n=$(window),k=$("#pageflip"),T="",P=[],S=[1,void 0],x=0,C=function(){var e,t=w.width(),n=w.height();t===m&&n===v||(e="undefined"===$.type(m),m=t,n=(v=n)-45,c.css("height",n+"px"),y=n-64,_=m-64,u.css({width:O(_),height:O(y),"margin-top":O(32),"margin-left":O(32)}),e?I(1):M())},E=function(){x=0,"undefined"!==$.type(window.flipbookSettings)&&"undefined"!==$.type(window.flipbookSettings.pages)&&$.each(window.flipbookSettings.pages,function(e,t){var n=T+"ihttps://cdn.shopify.com/s/files/1/0439/5597/8399/files/"+e+".jpg",e=[];$.isArray(t.links)&&(e=t.links),x+=1,P.push({pageNumber:x,backgroundFile:n,linkList:e})}),b=x%2!=1},F=function(){o.on("click",function(){I(1)}),i.on("click",function(){I(S[0]-1)}),r.on("click",function(){I(S[0]+1)}),s.on("click",function(){I(x)})},I=function(e){function t(e,t){"back"===e?t?(o.removeClass("FBLcontrolbar-button--toBeginningInAct"),i.removeClass("FBLcontrolbar-button--backInAct"),o.addClass("FBLcontrolbar-button--toBeginning"),i.addClass("FBLcontrolbar-button--back")):(o.addClass("FBLcontrolbar-button--toBeginningInAct"),i.addClass("FBLcontrolbar-button--backInAct"),o.removeClass("FBLcontrolbar-button--toBeginning"),i.removeClass("FBLcontrolbar-button--back")):"forward"===e&&(t?(r.addClass("FBLcontrolbar-button--forward"),s.addClass("FBLcontrolbar-button--toEnd"),r.removeClass("FBLcontrolbar-button--forwardInAct"),s.removeClass("FBLcontrolbar-button--toEndInAct")):(r.removeClass("FBLcontrolbar-button--forward"),s.removeClass("FBLcontrolbar-button--toEnd"),r.addClass("FBLcontrolbar-button--forwardInAct"),s.addClass("FBLcontrolbar-button--toEndInAct")))}var n=!1;return e<2?(t("back",!(S=[1,void 0])),t("forward",!0),M(),n=!0):e<x||!b&&e===x?(S=[e,void 0],t("back",!0),t("forward",!0),M(),n=!0):b&&e===x&&(S=[e,void 0],t("back",!0),t("forward",!1),M(),n=!0),n&&L(),n},B=function(e){var t,n,o=P[e-1];return"undefined"===$.type(o.$loadedImg)&&("undefined"===$.type(o.promise)?(n=$.Deferred(),o.promise=n):n=o.promise,t=$("<img />",{src:o.backgroundFile}).css("display","none").appendTo($("body")).on("click",function(){var e=window.open(o.backgroundFile,"_blank");e&&e.focus()}).on("load",function(){o.$loadedImg=t,o.$img=void 0,n.resolve()}).on("error",function(){t.remove(),setTimeout(function(){B(e)},500)}),o.$img=t),o},M=function(){function t(e,t,a,s,c,n,o){t.css({top:n,left:o}),t.append(e.$loadedImg),$.each(e.linkList,function(e,t){var n,o,i,r;"undefined"!==$.type(t.link)&&(n=window.parseInt(t.top,10),o=window.parseInt(t.left,10),i=window.parseInt(t.width,10),r=window.parseInt(t.height,10),window.isNaN(n)||window.isNaN(o)||window.isNaN(i)||window.isNaN(r)||(n=Math.round(n*c),o=Math.round(o*s),i=Math.round(i*s),r=Math.round(r*c),(r=(t.is_internal?$('<a class="pf-hotspot" onclick="goToLabel('+t.link+')"></a>'):$("<a></a>",{class:"pf-hotspot",href:t.link})).css({top:O(n),left:O(o),width:O(i),height:O(r)})).on("click",function(e){var t=$(e.target).attr("href");if(!t||/^mailto:/.test(t))return!0;e.preventDefault();t=window.open(t,"_blank");t&&t.focus()}),a.append(r)))}),e.$loadedImg.show()}var n,o,i,r,a,e,s,c,u,l=0;d.add(h).children("img").detach(),p.add(f).html(""),S[0]&&S[0]<=x&&(e=(n=B(S[0])).promise,l+=1),S[1]&&S[1]<=x&&(s=(o=B(S[1])).promise,l+=1),1===l&&e.done(function(){S[0]===n.pageNumber&&(r=N(n.$loadedImg,d),c=Math.floor(_/2-r.width/2),u=Math.floor((y-r.height)/2),t(n,d,p,r.widthMultiplier,r.heightMultiplier,u,c))}),2===l&&$.when(e,s).done(function(){var e;S[0]===n.pageNumber&&S[1]===o.pageNumber&&(i=n.$loadedImg,a=o.$loadedImg,r=N(i,d),a=N(a,h),e=r.width+a.width,c=Math.floor(_/2-e/2),u=Math.floor((y-r.height)/2),e=c+r.width,t(n,d,p,r.widthMultiplier,r.heightMultiplier,u,c),t(o,h,f,a.widthMultiplier,a.heightMultiplier,u,e))})},N=function(e,t){var n=e.height(),o=e.width(),i=Math.floor(o*(y/n)),r=Math.floor(n*(y/n)),a=_;return a<i&&(r=Math.floor(r*(a/i)),i=Math.floor(a)),e.add(t).css({width:O(i),height:O(r)}),{height:r,width:i,heightMultiplier:r/n,widthMultiplier:i/o}},A=function(){function t(){var e=g.val(),t=parseInt(e,10),e=!1;isNaN(t)||(e=I(t)),e||g.val(n),n=void 0,R()}var n;g.on("click",function(){g.focus()}),g.on("focus",function(){"undefined"===$.type(n)&&(n=g.val()),g.val("")}),g.on("blur",t),g.keypress(function(e){13===e.which&&(g.trigger("blur"),t())})},L=function(){var e="";"number"===$.type(S[0])&&(e=S[0]),"number"===$.type(S[1])&&(e+=" - "+S[1]),R(e)},R=function(e){"undefined"===$.type(e)&&(e=g.val());var t=e.length;e.length<5&&(t=5);for(var n="",o=0;o<t;o+=1)n+="9";.1<t%2&&(n[Math.floor(t/2+1)]="-");var i=$("<span></span>").addClass("ControlBar-pageInputTest");i.text(n).appendTo(a);var r=i.width()+2;i.remove(),l.css({width:r}),g.val(e)},O=function(e){return e+"px"};try{t=$("#Template-legacy").html(),E(),e=$(t),a=e.find(".FBLcontrolbar"),c=e.find(".FBLbook"),o=e.find(".FBLcontrolbar-button--toBeginning"),i=e.find(".FBLcontrolbar-button--back"),r=e.find(".FBLcontrolbar-button--forward"),s=e.find(".FBLcontrolbar-button--toEnd"),g=e.find(".FBLcontrolbar-input"),u=e.find(".FBLbook-pageContainer"),d=u.find(".FBLbook-left"),h=u.find(".FBLbook-right"),p=d.find(".FBLbook-left-content"),f=h.find(".FBLbook-right-content"),l=u.find(".FBLcontrolbar-inputContainer"),k.append(e),F(),A(),n.on("resize",C),C(),window.goToLabel=function(e){I(e)},"string"===$.type(window.flipbookSettings.IncDirPath)&&(T=window.flipbookSettings.IncDirPath)}catch(e){alert(e.name+": "+e.message)}})}